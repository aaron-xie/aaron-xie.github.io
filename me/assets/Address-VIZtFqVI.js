import{cJ as x,f as N,N as h,d as L,m as M,j as $,c as q,s as i,z as a,x as o,a as s,v as I,I as j,J as G,q as O,L as J,M as Y,o as v,F as k,bj as W,O as A,D as y,cM as g,bl as m,aq as c,cN as D,bk as Z,bA as S,bo as E,cO as H,V as K}from"./index-BRm-_Hy6.js";/* empty css                    *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as U}from"./el-autocomplete-DcsfUBRa.js";import{i as Q}from"./no-address-DZmpuICS.js";import{E as X}from"./index-6ie1_68p.js";import"./index-DjCrTEEu.js";import"./debounce-C0144Bk0.js";const ee=[{name:"USD",symbol:"$",ratio:1},{name:"YAN",symbol:"ï¿¥",ratio:7.2}],te=x("common",()=>{const C=N(),p=N(),_=N(ee[0]);async function u(){console.log("getCountry");const n=await h("/customer/GetAllCountry");return n.status===200&&(C.value=n.data),n.data}async function r(n){const V=await h("/customer/GetStateProvinceByCountryid",{countryId:n});return V.status===200&&(p.value=V.data),V.data}return C.value||u(),{currency:_,countryData:C,provinceData:p,getCountry:u,getProvince:r}}),se={class:"page-address"},ae={class:"page-content"},re={key:1,class:"address flex"},oe={class:"phone-number"},le={class:"content"},de=L({__name:"Address",setup(C){J(),Y();const p=te(),_={firstName:[{required:!0,message:"This field is required"}],lastName:[{required:!0,message:"This field is required"}],country:[{required:!0,message:"This field is required"}],province:[{required:!0,message:"This field is required"}],city:[{required:!0,message:"This field is required"}],zip:[{required:!0,message:"This field is required"}],phoneCode:[{required:!0,message:"This field is required"}],phoneNumber:[{required:!0,message:"This field is required"}]},u=N(),r=M({firstName:"",lastName:"",address1:"",address2:"",country:"",province:"",city:"",zip:"",phoneCode:"",phoneNumber:""}),n=N(),V=()=>{n.value&&n.value.validate(async l=>{if(l){if(u.value==="create"){const e=await S("/customer/InsertAddress",r);e.status===200&&(E({type:"success",message:e.msg}),u.value=void 0)}else if(u.value==="edit"){const e=await S("/customer/EditAddress",r);e.status===200&&(E({type:"success",message:e.msg}),u.value=void 0)}}else console.log("error submit!")})},f=N(),P=async()=>{const l=[{id:1,firstName:"Pengg",lastName:"",phoneNumber:"214 455 555",address1:"ASDRP - Aspiring Scholars Directed Research Program",address2:"Fremont, California, United States",zip:"94539"},{id:2,firstName:"Velar",lastName:"Cassandra",phoneNumber:"7865028305",address1:"Florida, 13531 SW 96th St.",address2:"Miami, Florida, United States",zip:"33186"}];await h("/customer/GetAddressById"),f.value=l},w=l=>{p.getProvince(Number(l))},z=(l,e)=>{var t;const d=l?(t=p.countryData)==null?void 0:t.filter(b=>b.CountryId===Number(l)):p.countryData;e(d||[])},T=(l,e)=>{var t;const d=l?(t=p.provinceData)==null?void 0:t.filter(b=>b.ProvinceId===Number(l)):p.provinceData;e(d||[])};$(()=>{P()});const R=()=>{var l;(l=n.value)==null||l.resetFields(),u.value="create"},B=async l=>{var d;const e=await H(`/customer/DeleteAddress?addressId=${l}`);e.status===200&&(f.value=(d=f.value)==null?void 0:d.filter(t=>t.id!==l),E({type:"success",message:e.msg}))},F=l=>{var d;u.value="edit";const e=((d=f.value)==null?void 0:d.find(t=>t.id===l))||{};Object.assign(r,e)};return(l,e)=>{var d;return v(),q("article",se,[i("header",null,[e[11]||(e[11]=i("h1",null,"Address Book",-1)),a(s(A),{icon:s(W),size:"small",type:"warning",onClick:R},{default:o(()=>e[10]||(e[10]=[k("Add A New Address")])),_:1},8,["icon"])]),i("div",ae,[((d=f.value)==null?void 0:d.length)===0?(v(),I(s(X),{key:0,image:s(Q),description:"You have not added an address."},null,8,["image"])):(v(),q("div",re,[(v(!0),q(j,null,G(f.value,t=>(v(),q("div",{class:"item",key:t.id},[i("header",null,[i("h4",null,y(t.firstName)+" "+y(t.lastName),1),i("div",oe,y(t.phoneNumber),1)]),i("div",le,[i("p",null,y(t.address1),1),i("p",null,y(t.address2)+","+y(t.zip),1)]),i("footer",null,[a(s(A),{link:"",onClick:b=>B(t.id)},{default:o(()=>e[12]||(e[12]=[k("Delete")])),_:2},1032,["onClick"]),a(s(A),{link:"",onClick:b=>F(t.id)},{default:o(()=>e[13]||(e[13]=[k("Edit")])),_:2},1032,["onClick"])])]))),128))])),u.value?(v(),I(s(Z),{key:2,"label-position":"top",ref_key:"formRef",ref:n,model:r,rules:_},{default:o(()=>[a(s(D),{gutter:10},{default:o(()=>[a(s(g),{span:12},{default:o(()=>[a(s(m),{label:"first Name",prop:"firstName",required:""},{default:o(()=>[a(s(c),{modelValue:r.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>r.firstName=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(s(g),{span:12},{default:o(()=>[a(s(m),{label:"Last Name",prop:"lastName",required:""},{default:o(()=>[a(s(c),{modelValue:r.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>r.lastName=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(m),{label:"Adress Line1",prop:"address1",required:""},{default:o(()=>[a(s(c),{modelValue:r.address1,"onUpdate:modelValue":e[2]||(e[2]=t=>r.address1=t)},null,8,["modelValue"])]),_:1}),a(s(m),{label:"Adress Line2",prop:"address2",required:""},{default:o(()=>[a(s(c),{modelValue:r.address2,"onUpdate:modelValue":e[3]||(e[3]=t=>r.address2=t)},null,8,["modelValue"])]),_:1}),a(s(m),{label:"Destination Country / Region",prop:"country",required:""},{default:o(()=>[a(s(U),{modelValue:r.country,"onUpdate:modelValue":e[4]||(e[4]=t=>r.country=t),"fetch-suggestions":z,clearable:"",placeholder:"Select a country",onChange:w},null,8,["modelValue"])]),_:1}),a(s(m),{label:"State / Province",prop:"province",required:""},{default:o(()=>[a(s(U),{modelValue:r.province,"onUpdate:modelValue":e[5]||(e[5]=t=>r.province=t),"fetch-suggestions":T,clearable:"",placeholder:"Select a province"},null,8,["modelValue"])]),_:1}),a(s(D),{gutter:10},{default:o(()=>[a(s(g),{span:16},{default:o(()=>[a(s(m),{label:"City",prop:"city",required:""},{default:o(()=>[a(s(c),{modelValue:r.city,"onUpdate:modelValue":e[6]||(e[6]=t=>r.city=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(s(g),{span:8},{default:o(()=>[a(s(m),{label:"Zip / Postal Code",prop:"zip",required:""},{default:o(()=>[a(s(c),{modelValue:r.zip,"onUpdate:modelValue":e[7]||(e[7]=t=>r.zip=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(m),{label:"Phone Number",prop:"phoneCode",required:""},{default:o(()=>[a(s(D),{gutter:10},{default:o(()=>[a(s(g),{span:8},{default:o(()=>[a(s(c),{modelValue:r.phoneCode,"onUpdate:modelValue":e[8]||(e[8]=t=>r.phoneCode=t)},null,8,["modelValue"])]),_:1}),a(s(g),{span:16},{default:o(()=>[a(s(c),{modelValue:r.phoneNumber,"onUpdate:modelValue":e[9]||(e[9]=t=>r.phoneNumber=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(m),null,{default:o(()=>[a(s(A),{type:"primary",onClick:V},{default:o(()=>e[14]||(e[14]=[k("Confirm")])),_:1})]),_:1})]),_:1},8,["model"])):O("",!0)])])}}}),qe=K(de,[["__scopeId","data-v-984fa105"]]);export{qe as default};
