import{cl as re,cx as X,bD as le,c8 as se,cy as Y,cz as J,a4 as ne,cA as oe,cB as ie,c1 as ue,ce,g as D,k as $,d as O,s as Q,h as Z,bs as fe,q as m,x as L,v as ve,b2 as B,bB as I,o as T,B as N,w as V,a8 as me,a as k,n as C,u as g,A as x,a9 as de,$ as pe,am as he,c as j,b as K,L as be,av as ye,aB as ge,i as P,b6 as G,j as U,aa as Se,a7 as F,p as we,y as ze,bf as _e,t as Ee,ct as Re,r as Ae,D as Le,z as Pe,a2 as Te,J as Ce}from"./index-vri7Uio_.js";var Oe=1,He=2;function Me(e,a,r,l){var o=r.length,f=o;if(e==null)return!f;for(e=Object(e);o--;){var u=r[o];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<f;){u=r[o];var d=u[0],v=e[d],p=u[1];if(u[2]){if(v===void 0&&!(d in e))return!1}else{var n=new re,s;if(!(s===void 0?X(p,v,Oe|He,l,n):s))return!1}}return!0}function ee(e){return e===e&&!le(e)}function Be(e){for(var a=se(e),r=a.length;r--;){var l=a[r],o=e[l];a[r]=[l,o,ee(o)]}return a}function te(e,a){return function(r){return r==null?!1:r[e]===a&&(a!==void 0||e in Object(r))}}function Ne(e){var a=Be(e);return a.length==1&&a[0][2]?te(a[0][0],a[0][1]):function(r){return r===e||Me(r,e,a)}}var ke=1,xe=2;function De(e,a){return Y(e)&&ee(a)?te(J(e),a):function(r){var l=ne(r,e);return l===void 0&&l===a?oe(r,e):X(a,l,ke|xe)}}function $e(e){return function(a){return a==null?void 0:a[e]}}function We(e){return function(a){return ie(a,e)}}function Ie(e){return Y(e)?$e(J(e)):We(e)}function rt(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?ce(e)?De(e[0],e[1]):Ne(e):Ie(e)}const A=4,Ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ge=({move:e,size:a,bar:r})=>({[r.size]:a,transform:`translate${r.axis}(${e}%)`}),W=Symbol("scrollbarContextKey"),Ue=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Fe="Thumb",qe=O({__name:"thumb",props:Ue,setup(e){const a=e,r=Q(W),l=Z("scrollbar");r||fe(Fe,"can not inject scrollbar context");const o=m(),f=m(),u=m({}),d=m(!1);let v=!1,p=!1,n=he?document.onselectstart:null;const s=L(()=>Ke[a.vertical?"vertical":"horizontal"]),i=L(()=>Ge({size:a.size,move:a.move,bar:s.value})),h=L(()=>o.value[s.value.offset]**2/r.wrapElement[s.value.scrollSize]/a.ratio/f.value[s.value.offset]),b=c=>{var _;if(c.stopPropagation(),c.ctrlKey||[1,2].includes(c.button))return;(_=window.getSelection())==null||_.removeAllRanges(),w(c);const R=c.currentTarget;R&&(u.value[s.value.axis]=R[s.value.offset]-(c[s.value.client]-R.getBoundingClientRect()[s.value.direction]))},E=c=>{if(!f.value||!o.value||!r.wrapElement)return;const _=Math.abs(c.target.getBoundingClientRect()[s.value.direction]-c[s.value.client]),R=f.value[s.value.offset]/2,M=(_-R)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=M*r.wrapElement[s.value.scrollSize]/100},w=c=>{c.stopImmediatePropagation(),v=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),n=document.onselectstart,document.onselectstart=()=>!1},S=c=>{if(!o.value||!f.value||v===!1)return;const _=u.value[s.value.axis];if(!_)return;const R=(o.value.getBoundingClientRect()[s.value.direction]-c[s.value.client])*-1,M=f.value[s.value.offset]-_,ae=(R-M)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=ae*r.wrapElement[s.value.scrollSize]/100},y=()=>{v=!1,u.value[s.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),t(),p&&(d.value=!1)},H=()=>{p=!1,d.value=!!a.size},z=()=>{p=!0,d.value=v};ve(()=>{t(),document.removeEventListener("mouseup",y)});const t=()=>{document.onselectstart!==n&&(document.onselectstart=n)};return B(I(r,"scrollbarElement"),"mousemove",H),B(I(r,"scrollbarElement"),"mouseleave",z),(c,_)=>(T(),N(pe,{name:g(l).b("fade"),persisted:""},{default:V(()=>[me(k("div",{ref_key:"instance",ref:o,class:C([g(l).e("bar"),g(l).is(g(s).key)]),onMousedown:E},[k("div",{ref_key:"thumb",ref:f,class:C(g(l).e("thumb")),style:x(g(i)),onMousedown:b},null,38)],34),[[de,c.always||d.value]])]),_:1},8,["name"]))}});var q=$(qe,[["__file","thumb.vue"]]);const Xe=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ye=O({__name:"bar",props:Xe,setup(e,{expose:a}){const r=e,l=Q(W),o=m(0),f=m(0),u=m(""),d=m(""),v=m(1),p=m(1);return a({handleScroll:i=>{if(i){const h=i.offsetHeight-A,b=i.offsetWidth-A;f.value=i.scrollTop*100/h*v.value,o.value=i.scrollLeft*100/b*p.value}},update:()=>{const i=l==null?void 0:l.wrapElement;if(!i)return;const h=i.offsetHeight-A,b=i.offsetWidth-A,E=h**2/i.scrollHeight,w=b**2/i.scrollWidth,S=Math.max(E,r.minSize),y=Math.max(w,r.minSize);v.value=E/(h-E)/(S/(h-S)),p.value=w/(b-w)/(y/(b-y)),d.value=S+A<h?`${S}px`:"",u.value=y+A<b?`${y}px`:""}}),(i,h)=>(T(),j(be,null,[K(q,{move:o.value,ratio:p.value,size:u.value,always:i.always},null,8,["move","ratio","size","always"]),K(q,{move:f.value,ratio:v.value,size:d.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Je=$(Ye,[["__file","bar.vue"]]);const Qe=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ye([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ge(["ariaLabel","ariaOrientation"])}),Ze={scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(P)},Ve="ElScrollbar",je=O({name:Ve}),et=O({...je,props:Qe,emits:Ze,setup(e,{expose:a,emit:r}){const l=e,o=Z("scrollbar");let f,u,d=0,v=0;const p=m(),n=m(),s=m(),i=m(),h=L(()=>{const t={};return l.height&&(t.height=G(l.height)),l.maxHeight&&(t.maxHeight=G(l.maxHeight)),[l.wrapStyle,t]}),b=L(()=>[l.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!l.native}]),E=L(()=>[o.e("view"),l.viewClass]),w=()=>{var t;n.value&&((t=i.value)==null||t.handleScroll(n.value),d=n.value.scrollTop,v=n.value.scrollLeft,r("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function S(t,c){Te(t)?n.value.scrollTo(t):P(t)&&P(c)&&n.value.scrollTo(t,c)}const y=t=>{P(t)&&(n.value.scrollTop=t)},H=t=>{P(t)&&(n.value.scrollLeft=t)},z=()=>{var t;(t=i.value)==null||t.update()};return U(()=>l.noresize,t=>{t?(f==null||f(),u==null||u()):({stop:f}=Se(s,z),u=B("resize",z))},{immediate:!0}),U(()=>[l.maxHeight,l.height],()=>{l.native||F(()=>{var t;z(),n.value&&((t=i.value)==null||t.handleScroll(n.value))})}),we(W,ze({scrollbarElement:p,wrapElement:n})),_e(()=>{n.value&&(n.value.scrollTop=d,n.value.scrollLeft=v)}),Ee(()=>{l.native||F(()=>{z()})}),Re(()=>z()),a({wrapRef:n,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:H,handleScroll:w}),(t,c)=>(T(),j("div",{ref_key:"scrollbarRef",ref:p,class:C(g(o).b())},[k("div",{ref_key:"wrapRef",ref:n,class:C(g(b)),style:x(g(h)),tabindex:t.tabindex,onScroll:w},[(T(),N(Le(t.tag),{id:t.id,ref_key:"resizeRef",ref:s,class:C(g(E)),style:x(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:V(()=>[Ae(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Pe("v-if",!0):(T(),N(Je,{key:0,ref_key:"barRef",ref:i,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var tt=$(et,[["__file","scrollbar.vue"]]);const lt=Ce(tt);export{lt as E,rt as b};
