import{d as z,q as l,W as B,j as v,c as i,a as e,b as n,w as d,u as s,L as C,M as I,U as k,e as E,V as S,o as p,f as x,I as m,_ as q}from"./index-60xw3530.js";/* empty css                   */import{E as w}from"./el-select-DJLLJQyA.js";/* empty css               */import"./el-breadcrumb-item-l0sNRNKZ.js";/* empty css                      *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as y,a as L}from"./index-BWInwuUL.js";import"./index-BP9NvTm-.js";import"./strings-eQ5QdQAe.js";import"./debounce-B_uk86x8.js";import"./index-BhHCrK3B.js";const V={class:"page-search"},R={class:"page-body"},T={class:"goodslist border mt-1"},D=["onClick"],M={class:"img"},U=["src","alt"],$={class:"price"},j={class:"flex flex-end"},F=z({__name:"Search",setup(G){const r=k(),b=E(),_=l(),g=l(0),f=l(Number(r.query.size)||16),c=l(Number(r.query.page)||1),N={sortBy:"default",pageSize:f.value,pageIndex:c.value},u=async(a={})=>{const{k:o}=r.query,{data:t,TotalRecords:h}=await S("product/GetSearchProducts",{...N,...a,searchTerms:o});_.value=t,g.value=h};B(()=>{u()}),v(r.query,(a,o)=>{a!==o&&u()}),v(c,a=>{u({pageIndex:a})});const P=a=>{c.value=a};return(a,o)=>(p(),i("main",V,[e("article",R,[e("header",null,[n(s(L),null,{default:d(()=>[n(s(y),{to:"/home"},{default:d(()=>o[0]||(o[0]=[x(" Home ")])),_:1}),n(s(y),null,{default:d(()=>o[1]||(o[1]=[x("search result")])),_:1})]),_:1})]),e("ul",T,[(p(!0),i(C,null,I(_.value,t=>(p(),i("li",{key:t.ProductId,onClick:h=>s(b).push(`/goods/${t.ProductId}`)},[e("div",M,[e("img",{src:t.PictureUrl,alt:t.LocalizedName},null,8,U)]),e("h5",null,m(t.LocalizedName),1),e("div",$,[e("span",null,m(t.Price),1),e("del",null,m(t.OldPrice),1)])],8,D))),128))]),e("div",j,[n(s(w),{"page-size":f.value,layout:"prev, pager, next",total:g.value,onCurrentChange:P},null,8,["page-size","total"])])])]))}}),re=q(F,[["__scopeId","data-v-baf2c733"]]);export{re as default};
