import{d as L,q as r,j as S,c as u,a as d,b as n,w as o,u as t,U as V,e as R,V as b,o as s,f as c,L as i,M as I,B as p,I as m,_ as A}from"./index-vri7Uio_.js";import{E as D,a as T,b as N,c as U,d as $,e as j}from"./el-sub-menu-Bll2OWHb.js";/* empty css                      */import"./el-breadcrumb-item-l0sNRNKZ.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                 */import{E as F}from"./el-select-DjyWQYpV.js";/* empty css               */import{E as B,a as H}from"./index-h4tdxw4v.js";import{E as J}from"./index-BSoI4pJd.js";import"./index-DKv_v18O.js";import"./index-BEHfwzIZ.js";import"./strings-DMjuqTvw.js";import"./debounce-CVC-HtNW.js";const K={class:"page-gallery"},O={class:"page-body"},Q={class:"goodslist"},W=["onClick"],X=["src"],Y=L({__name:"Gallery",setup(Z){const y=V(),w=R(),P=e=>{w.push(`/product/${e}`)},E=r([]),h=r([]),_=r(Number(y.query.categoryId)||0);(async()=>{const{data:e}=await b("/home/GetAllCategories");E.value=e,h.value=e.map(l=>String(l.CategoryId))})();const z=e=>{_.value=e},x=r(0),k=r(Number(y.query.size)||16),f=r(Number(y.query.page)||1),v=r([]),M={sortBy:"default",pageSize:k.value,pageIndex:f.value,categoryId:_.value},C=async(e={})=>{const{data:l,TotalRecords:a}=await b("product/GetListProducts",{...M,...e});v.value=l,x.value=a};C(),S(_,e=>{C({categoryId:e})}),S(f,e=>{C({pageIndex:e})});const G=e=>{f.value=e},q=r(!1);return(e,l)=>(s(),u("main",K,[d("div",O,[n(t(H),null,{default:o(()=>[n(t(B),{to:"/home"},{default:o(()=>l[0]||(l[0]=[c("Home")])),_:1}),n(t(B),null,{default:o(()=>l[1]||(l[1]=[c("Custom Gallery")])),_:1})]),_:1}),n(t(j),null,{default:o(()=>[n(t(D),{width:"25%"},{default:o(()=>[n(t(T),{"default-active":"2","default-openeds":h.value,onSelect:z,collapse:q.value},{default:o(()=>[(s(!0),u(i,null,I(E.value,a=>(s(),u(i,{key:a.CategoryId},[a.SubCategory&&a.SubCategory.length>0?(s(),p(t(U),{key:0,index:String(a.CategoryId)},{title:o(()=>[c(m(a.Name),1)]),default:o(()=>[(s(!0),u(i,null,I(a.SubCategory,g=>(s(),p(t(N),{key:g.CategoryId,index:String(g.CategoryId)},{default:o(()=>[c(m(g.Name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(s(),p(t(N),{key:1,index:String(a.CategoryId)},{default:o(()=>[c(m(a.Name),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-openeds","collapse"])]),_:1}),n(t($),{class:"page-content"},{default:o(()=>[v.value.length>0?(s(),u(i,{key:0},[d("ul",Q,[(s(!0),u(i,null,I(v.value,a=>(s(),u("li",{key:a.ProductId},[d("div",{class:"img",onClick:g=>P(a.ProductId)},[d("img",{src:a.PictureUrl},null,8,X)],8,W),d("h4",null,m(a.LocalizedName),1)]))),128))]),n(t(F),{"page-size":k.value,layout:"prev, pager, next",total:x.value,onCurrentChange:G},null,8,["page-size","total"])],64)):(s(),p(t(J),{key:1}))]),_:1})]),_:1})])]))}}),ye=A(Y,[["__scopeId","data-v-e7b887ec"]]);export{ye as default};
