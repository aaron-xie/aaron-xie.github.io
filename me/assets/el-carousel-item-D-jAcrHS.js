import{g as ve,i as Ee,aS as We,q as h,x as _,u as e,j as Y,aT as Fe,t as fe,a7 as Ge,v as Ue,p as Ye,aq as _e,aU as qe,aV as Xe,l as Le,d as X,h as de,Y as Te,o as E,c as B,B as ie,w as te,a5 as ae,a as V,n as O,W as x,b as ee,F as we,aL as Ze,a6 as le,X as Ie,z as R,aM as Je,r as ne,A as Me,L as ue,M as Qe,I as Ne,k as me,s as xe,y as et,aW as tt,af as at,J as Be,K as lt,aj as q,as as re,aG as nt,aX as st,aY as ot,aZ as rt,ad as it,a_ as Ce,a4 as ut,a$ as ct,b0 as vt,b1 as Se,b2 as ft}from"./index-BreoM77B.js";import{u as dt}from"./index-DxqmgO7l.js";import{t as be,E as mt}from"./index-D41VEQqA.js";const ht=ve({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),pt={change:(l,o)=>[l,o].every(Ee)},$e=Symbol("carouselContextKey"),ce="ElCarouselItem",ke=300,gt=(l,o,r)=>{const{children:n,addChild:P,removeChild:v}=dt(Le(),ce),$=We(),s=h(-1),b=h(null),L=h(!1),d=h(),I=h(0),k=h(!0),p=h(!0),f=h(!1),D=_(()=>l.arrow!=="never"&&!e(z)),H=_(()=>n.value.some(a=>a.props.label.toString().length>0)),T=_(()=>l.type==="card"),z=_(()=>l.direction==="vertical"),i=_(()=>l.height!=="auto"?{height:l.height}:{height:`${I.value}px`,overflow:"hidden"}),u=be(a=>{N(a)},ke,{trailing:!0}),C=be(a=>{S(a)},ke),w=a=>k.value?s.value<=1?a<=1:a>1:!0;function g(){b.value&&(clearInterval(b.value),b.value=null)}function A(){l.interval<=0||!l.autoplay||b.value||(b.value=setInterval(()=>M(),l.interval))}const M=()=>{p.value||(f.value=!0),p.value=!1,s.value<n.value.length-1?s.value=s.value+1:l.loop?s.value=0:f.value=!1};function N(a){if(p.value||(f.value=!0),p.value=!1,_e(a)){const K=n.value.filter(F=>F.props.name===a);K.length>0&&(a=n.value.indexOf(K[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const m=n.value.length,j=s.value;a<0?s.value=l.loop?m-1:0:a>=m?s.value=l.loop?0:m-1:s.value=a,j===s.value&&c(j),he()}function c(a){n.value.forEach((m,j)=>{m.translateItem(j,s.value,a)})}function W(a,m){var j,K,F,pe;const Q=e(n),ge=Q.length;if(ge===0||!a.states.inStage)return!1;const Pe=m+1,Ve=m-1,ye=ge-1,Re=Q[ye].states.active,je=Q[0].states.active,De=(K=(j=Q[Pe])==null?void 0:j.states)==null?void 0:K.active,Ke=(pe=(F=Q[Ve])==null?void 0:F.states)==null?void 0:pe.active;return m===ye&&je||De?"left":m===0&&Re||Ke?"right":!1}function G(){L.value=!0,l.pauseOnHover&&g()}function Z(){L.value=!1,A()}function J(){f.value=!1}function y(a){e(z)||n.value.forEach((m,j)=>{a===W(m,j)&&(m.states.hover=!0)})}function se(){e(z)||n.value.forEach(a=>{a.states.hover=!1})}function t(a){a!==s.value&&(p.value||(f.value=!0)),s.value=a}function S(a){l.trigger==="hover"&&a!==s.value&&(s.value=a,p.value||(f.value=!0))}function U(){N(s.value-1)}function Ae(){N(s.value+1)}function he(){g(),l.pauseOnHover||A()}function He(a){l.height==="auto"&&(I.value=a)}function Oe(){var a;const m=(a=$.default)==null?void 0:a.call($);if(!m)return null;const K=qe(m).filter(F=>Xe(F)&&F.type.name===ce);return(K==null?void 0:K.length)===2&&l.loop&&!T.value?(k.value=!0,K):(k.value=!1,null)}Y(()=>s.value,(a,m)=>{c(m),k.value&&(a=a%2,m=m%2),m>-1&&o("change",a,m)}),Y(()=>l.autoplay,a=>{a?A():g()}),Y(()=>l.loop,()=>{N(s.value)}),Y(()=>l.interval,()=>{he()});const oe=Fe();return fe(()=>{Y(()=>n.value,()=>{n.value.length>0&&N(l.initialIndex)},{immediate:!0}),oe.value=Ge(d.value,()=>{c()}),A()}),Ue(()=>{g(),d.value&&oe.value&&oe.value.stop()}),Ye($e,{root:d,isCardType:T,isVertical:z,items:n,loop:l.loop,cardScale:l.cardScale,addItem:P,removeItem:v,setActiveItem:N,setContainerHeight:He}),{root:d,activeIndex:s,arrowDisplay:D,hasLabel:H,hover:L,isCardType:T,isTransitioning:f,items:n,isVertical:z,containerStyle:i,isItemsTwoLength:k,handleButtonEnter:y,handleTransitionEnd:J,handleButtonLeave:se,handleIndicatorClick:t,handleMouseEnter:G,handleMouseLeave:Z,setActiveItem:N,prev:U,next:Ae,PlaceholderItem:Oe,isTwoLengthShow:w,throttledArrowClick:u,throttledIndicatorHover:C}},yt="ElCarousel",wt=X({name:yt}),It=X({...wt,props:ht,emits:pt,setup(l,{expose:o,emit:r}){const n=l,{root:P,activeIndex:v,arrowDisplay:$,hasLabel:s,hover:b,isCardType:L,items:d,isVertical:I,containerStyle:k,handleButtonEnter:p,handleButtonLeave:f,isTransitioning:D,handleIndicatorClick:H,handleMouseEnter:T,handleMouseLeave:z,handleTransitionEnd:i,setActiveItem:u,prev:C,next:w,PlaceholderItem:g,isTwoLengthShow:A,throttledArrowClick:M,throttledIndicatorHover:N}=gt(n,r),c=de("carousel"),{t:W}=Te(),G=_(()=>{const y=[c.b(),c.m(n.direction)];return e(L)&&y.push(c.m("card")),y}),Z=_(()=>{const y=[c.e("container")];return n.motionBlur&&e(D)&&d.value.length>1&&y.push(e(I)?`${c.namespace.value}-transitioning-vertical`:`${c.namespace.value}-transitioning`),y}),J=_(()=>{const y=[c.e("indicators"),c.em("indicators",n.direction)];return e(s)&&y.push(c.em("indicators","labels")),n.indicatorPosition==="outside"&&y.push(c.em("indicators","outside")),e(I)&&y.push(c.em("indicators","right")),y});return o({activeIndex:v,setActiveItem:u,prev:C,next:w}),(y,se)=>(E(),B("div",{ref_key:"root",ref:P,class:O(e(G)),onMouseenter:x(e(T),["stop"]),onMouseleave:x(e(z),["stop"])},[e($)?(E(),ie(Ie,{key:0,name:"carousel-arrow-left",persisted:""},{default:te(()=>[ae(V("button",{type:"button",class:O([e(c).e("arrow"),e(c).em("arrow","left")]),"aria-label":e(W)("el.carousel.leftArrow"),onMouseenter:t=>e(p)("left"),onMouseleave:e(f),onClick:x(t=>e(M)(e(v)-1),["stop"])},[ee(e(we),null,{default:te(()=>[ee(e(Ze))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[le,(y.arrow==="always"||e(b))&&(n.loop||e(v)>0)]])]),_:1})):R("v-if",!0),e($)?(E(),ie(Ie,{key:1,name:"carousel-arrow-right",persisted:""},{default:te(()=>[ae(V("button",{type:"button",class:O([e(c).e("arrow"),e(c).em("arrow","right")]),"aria-label":e(W)("el.carousel.rightArrow"),onMouseenter:t=>e(p)("right"),onMouseleave:e(f),onClick:x(t=>e(M)(e(v)+1),["stop"])},[ee(e(we),null,{default:te(()=>[ee(e(Je))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[le,(y.arrow==="always"||e(b))&&(n.loop||e(v)<e(d).length-1)]])]),_:1})):R("v-if",!0),V("div",{class:O(e(Z)),style:Me(e(k)),onTransitionend:e(i)},[ee(e(g)),ne(y.$slots,"default")],46,["onTransitionend"]),y.indicatorPosition!=="none"?(E(),B("ul",{key:2,class:O(e(J))},[(E(!0),B(ue,null,Qe(e(d),(t,S)=>ae((E(),B("li",{key:S,class:O([e(c).e("indicator"),e(c).em("indicator",y.direction),e(c).is("active",S===e(v))]),onMouseenter:U=>e(N)(S),onClick:x(U=>e(H)(S),["stop"])},[V("button",{class:O(e(c).e("button")),"aria-label":e(W)("el.carousel.indicator",{index:S+1})},[e(s)?(E(),B("span",{key:0},Ne(t.props.label),1)):R("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[le,e(A)(S)]])),128))],2)):R("v-if",!0),n.motionBlur?(E(),B("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[V("defs",null,[V("filter",{id:"elCarouselHorizontal"},[V("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),V("filter",{id:"elCarouselVertical"},[V("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):R("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Ct=me(It,[["__file","carousel.vue"]]);const St=ve({name:{type:String,default:""},label:{type:[String,Number],default:""}}),bt=l=>{const o=xe($e),r=Le(),n=h(),P=h(!1),v=h(0),$=h(1),s=h(!1),b=h(!1),L=h(!1),d=h(!1),{isCardType:I,isVertical:k,cardScale:p}=o;function f(i,u,C){const w=C-1,g=u-1,A=u+1,M=C/2;return u===0&&i===w?-1:u===w&&i===0?C:i<g&&u-i>=M?C+1:i>A&&i-u>=M?-2:i}function D(i,u){var C,w;const g=e(k)?((C=o.root.value)==null?void 0:C.offsetHeight)||0:((w=o.root.value)==null?void 0:w.offsetWidth)||0;return L.value?g*((2-p)*(i-u)+1)/4:i<u?-(1+p)*g/4:(3+p)*g/4}function H(i,u,C){const w=o.root.value;return w?((C?w.offsetHeight:w.offsetWidth)||0)*(i-u):0}const T=(i,u,C)=>{var w;const g=e(I),A=(w=o.items.value.length)!=null?w:Number.NaN,M=i===u;!g&&!at(C)&&(d.value=M||i===C),!M&&A>2&&o.loop&&(i=f(i,u,A));const N=e(k);s.value=M,g?(L.value=Math.round(Math.abs(i-u))<=1,v.value=D(i,u),$.value=e(s)?1:p):v.value=H(i,u,N),b.value=!0,M&&n.value&&o.setContainerHeight(n.value.offsetHeight)};function z(){if(o&&e(I)){const i=o.items.value.findIndex(({uid:u})=>u===r.uid);o.setActiveItem(i)}}return fe(()=>{o.addItem({props:l,states:et({hover:P,translate:v,scale:$,active:s,ready:b,inStage:L,animating:d}),uid:r.uid,translateItem:T})}),tt(()=>{o.removeItem(r.uid)}),{carouselItemRef:n,active:s,animating:d,hover:P,inStage:L,isVertical:k,translate:v,isCardType:I,scale:$,ready:b,handleItemClick:z}},kt=X({name:ce}),Et=X({...kt,props:St,setup(l){const o=l,r=de("carousel"),{carouselItemRef:n,active:P,animating:v,hover:$,inStage:s,isVertical:b,translate:L,isCardType:d,scale:I,ready:k,handleItemClick:p}=bt(o),f=_(()=>[r.e("item"),r.is("active",P.value),r.is("in-stage",s.value),r.is("hover",$.value),r.is("animating",v.value),{[r.em("item","card")]:d.value,[r.em("item","card-vertical")]:d.value&&b.value}]),D=_(()=>{const T=`${`translate${e(b)?"Y":"X"}`}(${e(L)}px)`,z=`scale(${e(I)})`;return{transform:[T,z].join(" ")}});return(H,T)=>ae((E(),B("div",{ref_key:"carouselItemRef",ref:n,class:O(e(f)),style:Me(e(D)),onClick:e(p)},[e(d)?ae((E(),B("div",{key:0,class:O(e(r).e("mask"))},null,2)),[[le,!e(P)]]):R("v-if",!0),ne(H.$slots,"default")],14,["onClick"])),[[le,e(k)]])}});var ze=me(Et,[["__file","carousel-item.vue"]]);const Ht=Be(Ct,{CarouselItem:ze}),Ot=lt(ze),_t=(l,o)=>{if(!q||!l||!o)return!1;const r=l.getBoundingClientRect();let n;return o instanceof Element?n=o.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right},Lt=ve({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:re([String,Object])},previewSrcList:{type:re(Array),default:()=>nt([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:re(String)}}),Tt={load:l=>l instanceof Event,error:l=>l instanceof Event,switch:l=>Ee(l),close:()=>!0,show:()=>!0},Mt=X({name:"ElImage",inheritAttrs:!1}),Nt=X({...Mt,props:Lt,emits:Tt,setup(l,{emit:o}){const r=l;let n="";const{t:P}=Te(),v=de("image"),$=st(),s=_(()=>ot(Object.entries($).filter(([t])=>/^(data-|on[A-Z])/i.test(t)||["id","style"].includes(t)))),b=rt({excludeListeners:!0,excludeKeys:_(()=>Object.keys(s.value))}),L=h(),d=h(!1),I=h(!0),k=h(!1),p=h(),f=h(),D=q&&"loading"in HTMLImageElement.prototype;let H,T;const z=_(()=>[v.e("inner"),u.value&&v.e("preview"),I.value&&v.is("loading")]),i=_(()=>{const{fit:t}=r;return q&&t?{objectFit:t}:{}}),u=_(()=>{const{previewSrcList:t}=r;return it(t)&&t.length>0}),C=_(()=>{const{previewSrcList:t,initialIndex:S}=r;let U=S;return S>t.length-1&&(U=0),U}),w=_(()=>r.loading==="eager"?!1:!D&&r.loading==="lazy"||r.lazy),g=()=>{q&&(I.value=!0,d.value=!1,L.value=r.src)};function A(t){I.value=!1,d.value=!1,o("load",t)}function M(t){I.value=!1,d.value=!0,o("error",t)}function N(){_t(p.value,f.value)&&(g(),G())}const c=ft(N,200,!0);async function W(){var t;if(!q)return;await ut();const{scrollContainer:S}=r;ct(S)?f.value=S:_e(S)&&S!==""?f.value=(t=document.querySelector(S))!=null?t:void 0:p.value&&(f.value=vt(p.value)),f.value&&(H=Se(f,"scroll",c),setTimeout(()=>N(),100))}function G(){!q||!f.value||!c||(H==null||H(),f.value=void 0)}function Z(t){if(t.ctrlKey){if(t.deltaY<0)return t.preventDefault(),!1;if(t.deltaY>0)return t.preventDefault(),!1}}function J(){u.value&&(T=Se("wheel",Z,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",k.value=!0,o("show"))}function y(){T==null||T(),document.body.style.overflow=n,k.value=!1,o("close")}function se(t){o("switch",t)}return Y(()=>r.src,()=>{w.value?(I.value=!0,d.value=!1,G(),W()):g()}),fe(()=>{w.value?W():g()}),(t,S)=>(E(),B("div",Ce({ref_key:"container",ref:p},e(s),{class:[e(v).b(),t.$attrs.class]}),[d.value?ne(t.$slots,"error",{key:0},()=>[V("div",{class:O(e(v).e("error"))},Ne(e(P)("el.image.error")),3)]):(E(),B(ue,{key:1},[L.value!==void 0?(E(),B("img",Ce({key:0},e(b),{src:L.value,loading:t.loading,style:e(i),class:e(z),crossorigin:t.crossorigin,onClick:J,onLoad:A,onError:M}),null,16,["src","loading","crossorigin"])):R("v-if",!0),I.value?(E(),B("div",{key:1,class:O(e(v).e("wrapper"))},[ne(t.$slots,"placeholder",{},()=>[V("div",{class:O(e(v).e("placeholder"))},null,2)])],2)):R("v-if",!0)],64)),e(u)?(E(),B(ue,{key:2},[k.value?(E(),ie(e(mt),{key:0,"z-index":t.zIndex,"initial-index":e(C),infinite:t.infinite,"zoom-rate":t.zoomRate,"min-scale":t.minScale,"max-scale":t.maxScale,"url-list":t.previewSrcList,crossorigin:t.crossorigin,"hide-on-click-modal":t.hideOnClickModal,teleported:t.previewTeleported,"close-on-press-escape":t.closeOnPressEscape,onClose:y,onSwitch:se},{default:te(()=>[t.$slots.viewer?(E(),B("div",{key:0},[ne(t.$slots,"viewer")])):R("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):R("v-if",!0)],64)):R("v-if",!0)],16))}});var Bt=me(Nt,[["__file","image.vue"]]);const Pt=Be(Bt);export{Pt as E,Ot as a,Ht as b};
