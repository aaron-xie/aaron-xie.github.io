import{d as A,f as g,w as z,X as F,c as s,s as f,z as r,x as t,a as e,Y as T,J as u,L as U,M as H,I as w,o,F as c,v as d,Z as J,$ as K,P as W,K as m,D as p,E as X,N as Y,a0 as Z,W as j}from"./index-xf_L3rL2.js";import{E as O,a as Q,b as ee}from"./el-main-C7Q90_i0.js";/* empty css                      */import"./el-breadcrumb-item-l0sNRNKZ.js";import{E as B,a as P,b as _}from"./el-sub-menu-pd0t_AI8.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                 */import{E as ae}from"./el-pagination-CeOpuTNh.js";/* empty css               */import"./el-select-DkBHrmJx.js";import{E as te}from"./el-image-DC38WxUK.js";/* empty css                        */import{E as M,a as oe}from"./index-CvMX5fCo.js";import{E as le}from"./index-mD9Ss8qE.js";import"./index-CZsvrpDn.js";import"./index-BrIf_SDW.js";import"./strings-Bb14txJe.js";import"./debounce-B05V5LEe.js";import"./_baseIteratee-DeMWTR14.js";import"./index-9ySyCXJJ.js";const re={class:"page-gallery"},ne={class:"page-body"},se={class:"goodslist"},ue=["onClick"],de=A({__name:"Gallery",setup(ie){const C=U(),V=H(),D=l=>{V.push(`/product/${l}`)},v=g([]),S=g([]),I=g(Number(C.query.categoryId)||0);(async()=>{const{data:l}=await w("/home/GetAllCategories");v.value=l,S.value=l.map(n=>String(n.CategoryId))})();const N=l=>{I.value=l,y.value=!1},b=g(0),h=g(Number(C.query.size)||16),E=g(Number(C.query.page)||1),x=g([]),G={sortBy:"default",pageSize:h.value,pageIndex:E.value,categoryId:I.value},k=async(l={})=>{const{data:n,TotalRecords:a}=await w("product/GetListProducts",{...G,...l});x.value=n,b.value=a};k(),z(I,l=>{k({categoryId:l})}),z(E,l=>{k({pageIndex:l})});const L=l=>{E.value=l},{toggle:R,size:q,visible:y,available:$}=F();return(l,n)=>(o(),s(u,null,[f("main",re,[f("div",ne,[r(e(oe),null,{default:t(()=>[r(e(M),{to:"/home"},{default:t(()=>n[1]||(n[1]=[c("Home")])),_:1}),r(e(M),null,{default:t(()=>n[2]||(n[2]=[c("Custom Gallery")])),_:1})]),_:1}),r(e(ee),null,{default:t(()=>[e($)?(o(),d(e(W),{key:0,icon:e(y)?e(J):e(K),class:"btn-menu",onClick:e(R)},null,8,["icon","onClick"])):(o(),d(e(O),{key:1,width:"25%"},{default:t(()=>[r(e(B),{"default-active":"2","default-openeds":S.value,onSelect:N},{default:t(()=>[(o(!0),s(u,null,m(v.value,a=>(o(),s(u,{key:a.CategoryId},[a.SubCategory&&a.SubCategory.length>0?(o(),d(e(P),{key:0,index:String(a.CategoryId)},{title:t(()=>[c(p(a.Name),1)]),default:t(()=>[(o(!0),s(u,null,m(a.SubCategory,i=>(o(),d(e(_),{key:i.CategoryId,index:String(i.CategoryId)},{default:t(()=>[c(p(i.Name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(o(),d(e(_),{key:1,index:String(a.CategoryId)},{default:t(()=>[c(p(a.Name),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-openeds"])]),_:1})),r(e(Q),{class:"page-content"},{default:t(()=>[x.value.length>0?(o(),s(u,{key:0},[f("ul",se,[(o(!0),s(u,null,m(x.value,a=>(o(),s("li",{key:a.ProductId},[f("div",{class:"img",onClick:i=>D(a.ProductId)},[r(e(te),{src:a.PictureUrl,lazy:"",fit:"contain"},{placeholder:t(()=>[r(e(X),{class:"loading"},{default:t(()=>[r(e(Y))]),_:1})]),_:2},1032,["src"])],8,ue),f("h4",null,p(a.LocalizedName),1)]))),128))]),r(e(ae),{"page-size":h.value,layout:"prev, pager, next",total:b.value,onCurrentChange:L},null,8,["page-size","total"])],64)):(o(),d(e(le),{key:1}))]),_:1})]),_:1})])]),r(e(Z),{modelValue:e(y),"onUpdate:modelValue":n[0]||(n[0]=a=>T(y)?y.value=a:null),direction:"ltr",size:e(q),class:"menu-drawer"},{default:t(()=>[r(e(B),{"default-active":"2",onSelect:N},{default:t(()=>[(o(!0),s(u,null,m(v.value,a=>(o(),s(u,{key:a.CategoryId},[a.SubCategory&&a.SubCategory.length>0?(o(),d(e(P),{key:0,index:String(a.CategoryId)},{title:t(()=>[c(p(a.Name),1)]),default:t(()=>[(o(!0),s(u,null,m(a.SubCategory,i=>(o(),d(e(_),{key:i.CategoryId,index:String(i.CategoryId)},{default:t(()=>[c(p(i.Name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(o(),d(e(_),{key:1,index:String(a.CategoryId)},{default:t(()=>[c(p(a.Name),1)]),_:2},1032,["index"]))],64))),128))]),_:1})]),_:1},8,["modelValue","size"])],64))}}),Me=j(de,[["__scopeId","data-v-af899c5a"]]);export{Me as default};
