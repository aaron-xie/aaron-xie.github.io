import{d as V,f as l,w as S,c as u,s as d,z as n,x as o,a,L as q,M as D,V as b,o as r,F as c,I as i,J as I,v as g,D as m,U as R}from"./index-DFPMoMCa.js";import{E as A,a as F,b as T}from"./el-main-SVlWEuVh.js";/* empty css                      */import"./el-breadcrumb-item-l0sNRNKZ.js";import{E as U,a as N,b as $}from"./el-sub-menu-Chp2p5Y7.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                 */import{E as H}from"./el-pagination-C_FJlsDY.js";/* empty css               */import"./el-select-DRL60Y6_.js";import{E as w,a as J}from"./index-BA3VJ6P-.js";import{E as j}from"./index-DmdeDnxz.js";import"./index-0mO1i5A2.js";import"./index-CskkzNZO.js";import"./strings-BsCBmwSb.js";import"./debounce-Dr_Sptyb.js";import"./_baseIteratee-DR4X2Gih.js";const K={class:"page-gallery"},O={class:"page-body"},Q={class:"goodslist"},W=["onClick"],X=["src"],Y=V({__name:"Gallery",setup(Z){const y=q(),z=D(),B=e=>{z.push(`/product/${e}`)},E=l([]),x=l([]),f=l(Number(y.query.categoryId)||0);(async()=>{const{data:e}=await b("/home/GetAllCategories");E.value=e,x.value=e.map(s=>String(s.CategoryId))})();const P=e=>{f.value=e},h=l(0),k=l(Number(y.query.size)||16),_=l(Number(y.query.page)||1),v=l([]),M={sortBy:"default",pageSize:k.value,pageIndex:_.value,categoryId:f.value},C=async(e={})=>{const{data:s,TotalRecords:t}=await b("product/GetListProducts",{...M,...e});v.value=s,h.value=t};C(),S(f,e=>{C({categoryId:e})}),S(_,e=>{C({pageIndex:e})});const G=e=>{_.value=e},L=l(!1);return(e,s)=>(r(),u("main",K,[d("div",O,[n(a(J),null,{default:o(()=>[n(a(w),{to:"/home"},{default:o(()=>s[0]||(s[0]=[c("Home")])),_:1}),n(a(w),null,{default:o(()=>s[1]||(s[1]=[c("Custom Gallery")])),_:1})]),_:1}),n(a(T),null,{default:o(()=>[n(a(A),{width:"25%"},{default:o(()=>[n(a(U),{"default-active":"2","default-openeds":x.value,onSelect:P,collapse:L.value},{default:o(()=>[(r(!0),u(i,null,I(E.value,t=>(r(),u(i,{key:t.CategoryId},[t.SubCategory&&t.SubCategory.length>0?(r(),g(a($),{key:0,index:String(t.CategoryId)},{title:o(()=>[c(m(t.Name),1)]),default:o(()=>[(r(!0),u(i,null,I(t.SubCategory,p=>(r(),g(a(N),{key:p.CategoryId,index:String(p.CategoryId)},{default:o(()=>[c(m(p.Name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(r(),g(a(N),{key:1,index:String(t.CategoryId)},{default:o(()=>[c(m(t.Name),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-openeds","collapse"])]),_:1}),n(a(F),{class:"page-content"},{default:o(()=>[v.value.length>0?(r(),u(i,{key:0},[d("ul",Q,[(r(!0),u(i,null,I(v.value,t=>(r(),u("li",{key:t.ProductId},[d("div",{class:"img",onClick:p=>B(t.ProductId)},[d("img",{src:t.PictureUrl},null,8,X)],8,W),d("h4",null,m(t.LocalizedName),1)]))),128))]),n(a(H),{"page-size":k.value,layout:"prev, pager, next",total:h.value,onCurrentChange:G},null,8,["page-size","total"])],64)):(r(),g(a(j),{key:1}))]),_:1})]),_:1})])]))}}),ve=R(Y,[["__scopeId","data-v-e7b887ec"]]);export{ve as default};
