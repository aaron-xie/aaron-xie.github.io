import{d as D,f as c,j as C,l as m,c as u,s as e,z as r,x as v,a as l,v as E,I as y,J as x,N as S,L as V,M as h,o as n,F as f,cK as k,O as B,n as L,D as o,V as N}from"./index-BRm-_Hy6.js";/* empty css                    *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as _,a as w}from"./index-DT47_kmw.js";import{E as R}from"./index-6ie1_68p.js";import"./strings-vz0pyFxw.js";import"./index-DkiavwAb.js";const T=""+new URL("coupon_empty-B5c33fjs.png",import.meta.url).href,I={class:"page-coupon"},O={class:"flex"},U={class:"page-content"},j={key:1,class:"coupon-list"},z={class:"code"},A={class:"value"},F={class:"price"},M={class:"expires"},$={class:"value"},G=D({__name:"Coupon",setup(J){V(),h();const i=c("available"),d=c(),b=async(s=0)=>{const a=await S(`/customer/GetCustomerDiscount?statusEnum=${s}`);d.value=a.data||[]};C(()=>{b()});const p=m(()=>{var s;return(s=d.value)==null?void 0:s.filter(a=>{if(i.value==="unavailable")return a.Status!==1;if(i.value==="available")return a.Status===1})}),g=m(()=>{var s;return(s=d.value)==null?void 0:s.filter(a=>a.Status===1).length});return(s,a)=>(n(),u("section",I,[e("header",O,[a[2]||(a[2]=e("h1",null,"Coupon Center",-1)),r(l(B),{link:"",icon:l(k)},{default:v(()=>a[1]||(a[1]=[f("Rules")])),_:1},8,["icon"])]),r(l(w),{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t)},{default:v(()=>[r(l(_),{label:`Available(${g.value})`,name:"available"},null,8,["label"]),r(l(_),{label:"Unavailable",name:"unavailable"})]),_:1},8,["modelValue"]),e("div",U,[!p.value||p.value.length===0?(n(),E(l(R),{key:0,image:l(T),description:"No orders yet."},null,8,["image"])):(n(),u("div",j,[(n(!0),u(y,null,x(p.value,t=>(n(),u("div",{class:L(["item flex",{available:t.Status===1}]),key:t.DiscountId},[e("header",null,o(t.Name),1),e("ul",null,[e("li",z,[a[3]||(a[3]=e("h5",null,"CODE:",-1)),e("div",A,o(t.CouponCode),1)]),e("li",F,[a[4]||(a[4]=f("Order over ")),e("span",null,o(t.DiscountAmount),1)]),e("li",null,"available "+o(t.LimitationTimes),1),e("li",M,[a[5]||(a[5]=e("h5",null,"Validity period:",-1)),e("div",$,o(new Date(t.StartDate).toLocaleDateString())+" - "+o(new Date(t.EndDate).toLocaleDateString()),1)])])],2))),128))]))])]))}}),la=N(G,[["__scopeId","data-v-2519bf52"]]);export{la as default};
