import{d as b,f as l,aq as B,w as v,c as i,s as e,z as n,x as d,a as s,I as C,J as I,L as k,M as E,V as S,o as p,F as x,D as m,U as q}from"./index-DFPMoMCa.js";/* empty css                   */import{E as w}from"./el-pagination-C_FJlsDY.js";/* empty css               */import"./el-select-DRL60Y6_.js";import"./el-breadcrumb-item-l0sNRNKZ.js";/* empty css                      *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as y,a as L}from"./index-BA3VJ6P-.js";import"./index-CskkzNZO.js";import"./strings-BsCBmwSb.js";import"./debounce-Dr_Sptyb.js";import"./_baseIteratee-DR4X2Gih.js";import"./index-0mO1i5A2.js";const V={class:"page-search"},D={class:"page-body"},R={class:"goodslist border mt-1"},T=["onClick"],F={class:"img"},M=["src","alt"],U={class:"price"},$={class:"flex flex-end"},G=b({__name:"Search",setup(H){const r=k(),z=E(),_=l(),g=l(0),f=l(Number(r.query.size)||16),c=l(Number(r.query.page)||1),N={sortBy:"default",pageSize:f.value,pageIndex:c.value},u=async(a={})=>{const{k:o}=r.query,{data:t,TotalRecords:h}=await S("product/GetSearchProducts",{...N,...a,searchTerms:o});_.value=t,g.value=h};B(()=>{u()}),v(r.query,(a,o)=>{a!==o&&u()}),v(c,a=>{u({pageIndex:a})});const P=a=>{c.value=a};return(a,o)=>(p(),i("main",V,[e("article",D,[e("header",null,[n(s(L),null,{default:d(()=>[n(s(y),{to:"/home"},{default:d(()=>o[0]||(o[0]=[x(" Home ")])),_:1}),n(s(y),null,{default:d(()=>o[1]||(o[1]=[x("search result")])),_:1})]),_:1})]),e("ul",R,[(p(!0),i(C,null,I(_.value,t=>(p(),i("li",{key:t.ProductId,onClick:h=>s(z).push(`/goods/${t.ProductId}`)},[e("div",F,[e("img",{src:t.PictureUrl,alt:t.LocalizedName},null,8,M)]),e("h5",null,m(t.LocalizedName),1),e("div",U,[e("span",null,m(t.Price),1),e("del",null,m(t.OldPrice),1)])],8,T))),128))]),e("div",$,[n(s(w),{"page-size":f.value,layout:"prev, pager, next",total:g.value,onCurrentChange:P},null,8,["page-size","total"])])])]))}}),ne=q(G,[["__scopeId","data-v-baf2c733"]]);export{ne as default};
