import{d as D,f as c,j as C,l as m,c as u,s as e,z as r,x as v,a as l,v as E,J as y,K as x,I as S,L as h,M as k,o as n,F as f,cL as L,P as V,n as B,D as o,W as w}from"./index-xf_L3rL2.js";/* empty css                    *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as _,a as N}from"./index-QXvY5lb3.js";import{E as R}from"./index-mD9Ss8qE.js";import"./strings-Bb14txJe.js";import"./index-CembtfCz.js";const T=""+new URL("coupon_empty-B5c33fjs.png",import.meta.url).href,I={class:"page-coupon"},U={class:"flex"},j={class:"page-content"},z={key:1,class:"coupon-list"},A={class:"code"},F={class:"value"},M={class:"price"},O={class:"expires"},P={class:"value"},$=D({__name:"Coupon",setup(G){h(),k();const i=c("available"),d=c(),b=async(s=0)=>{const a=await S(`/customer/GetCustomerDiscount?statusEnum=${s}`);d.value=a.data||[]};C(()=>{b()});const p=m(()=>{var s;return(s=d.value)==null?void 0:s.filter(a=>{if(i.value==="unavailable")return a.Status!==1;if(i.value==="available")return a.Status===1})}),g=m(()=>{var s;return(s=d.value)==null?void 0:s.filter(a=>a.Status===1).length});return(s,a)=>(n(),u("section",I,[e("header",U,[a[2]||(a[2]=e("h1",null,"Coupon Center",-1)),r(l(V),{link:"",icon:l(L)},{default:v(()=>a[1]||(a[1]=[f("Rules")])),_:1},8,["icon"])]),r(l(N),{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t)},{default:v(()=>[r(l(_),{label:`Available(${g.value})`,name:"available"},null,8,["label"]),r(l(_),{label:"Unavailable",name:"unavailable"})]),_:1},8,["modelValue"]),e("div",j,[!p.value||p.value.length===0?(n(),E(l(R),{key:0,image:l(T),description:"No orders yet."},null,8,["image"])):(n(),u("div",z,[(n(!0),u(y,null,x(p.value,t=>(n(),u("div",{class:B(["item flex",{available:t.Status===1}]),key:t.DiscountId},[e("header",null,o(t.Name),1),e("ul",null,[e("li",A,[a[3]||(a[3]=e("h5",null,"CODE:",-1)),e("div",F,o(t.CouponCode),1)]),e("li",M,[a[4]||(a[4]=f("Order over ")),e("span",null,o(t.DiscountAmount),1)]),e("li",null,"available "+o(t.LimitationTimes),1),e("li",O,[a[5]||(a[5]=e("h5",null,"Validity period:",-1)),e("div",P,o(new Date(t.StartDate).toLocaleDateString())+" - "+o(new Date(t.EndDate).toLocaleDateString()),1)])])],2))),128))]))])]))}}),la=w($,[["__scopeId","data-v-2519bf52"]]);export{la as default};
