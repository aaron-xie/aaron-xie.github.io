import{d as y,h as C,o as w,B as he,w as ne,r as x,a$ as $e,bS as Re,u as k,$ as Te,k as A,J as be,aT as je,x as p,c as N,n as B,A as ge,K as V,aq as T,bT as ee,bU as Q,bV as ce,bW as qe,bX as Ge,g as Me,m as Z,s as se,bs as ae,q as $,ay as Je,aP as Ue,y as ye,j as te,p as ve,t as _e,v as we,aS as M,F as ke,aC as Oe,a8 as Pe,a9 as Ze,L as Ie,l as Ce,bY as xe,at as q,av as oe,aJ as Ke,bZ as Xe,an as Ye,aa as Qe,aV as et,a2 as tt,bt as Se,ag as Ne,a7 as nt,bB as st,aD as at,a as fe,f as ot,I as lt}from"./index-vri7Uio_.js";import{C as ut}from"./index-DKv_v18O.js";const it=y({name:"ElCollapseTransition"}),rt=y({...it,setup(e){const s=C("collapse-transition"),n=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},u={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){n(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){n(t)},leaveCancelled(t){n(t)}};return(t,f)=>(w(),he(Te,$e({name:k(s).b()},Re(u)),{default:ne(()=>[x(t.$slots,"default")]),_:3},16,["name"]))}});var ct=A(rt,[["__file","collapse-transition.vue"]]);const dt=be(ct),pt=y({name:"ElContainer"}),mt=y({...pt,props:{direction:{type:String}},setup(e){const s=e,n=je(),u=C("container"),t=p(()=>s.direction==="vertical"?!0:s.direction==="horizontal"?!1:n&&n.default?n.default().some(c=>{const g=c.type.name;return g==="ElHeader"||g==="ElFooter"}):!1);return(f,c)=>(w(),N("section",{class:B([k(u).b(),k(u).is("vertical",k(t))])},[x(f.$slots,"default")],2))}});var vt=A(mt,[["__file","container.vue"]]);const ft=y({name:"ElAside"}),ht=y({...ft,props:{width:{type:String,default:null}},setup(e){const s=e,n=C("aside"),u=p(()=>s.width?n.cssVarBlock({width:s.width}):{});return(t,f)=>(w(),N("aside",{class:B(k(n).b()),style:ge(k(u))},[x(t.$slots,"default")],6))}});var Be=A(ht,[["__file","aside.vue"]]);const bt=y({name:"ElFooter"}),gt=y({...bt,props:{height:{type:String,default:null}},setup(e){const s=e,n=C("footer"),u=p(()=>s.height?n.cssVarBlock({height:s.height}):{});return(t,f)=>(w(),N("footer",{class:B(k(n).b()),style:ge(k(u))},[x(t.$slots,"default")],6))}});var Ae=A(gt,[["__file","footer.vue"]]);const Mt=y({name:"ElHeader"}),yt=y({...Mt,props:{height:{type:String,default:null}},setup(e){const s=e,n=C("header"),u=p(()=>s.height?n.cssVarBlock({height:s.height}):{});return(t,f)=>(w(),N("header",{class:B(k(n).b()),style:ge(k(u))},[x(t.$slots,"default")],6))}});var ze=A(yt,[["__file","header.vue"]]);const _t=y({name:"ElMain"}),It=y({..._t,setup(e){const s=C("main");return(n,u)=>(w(),N("main",{class:B(k(s).b())},[x(n.$slots,"default")],2))}});var He=A(It,[["__file","main.vue"]]);const jt=be(vt,{Aside:Be,Footer:Ae,Header:ze,Main:He}),qt=V(Be);V(Ae);const Gt=V(ze),Jt=V(He);let Ct=class{constructor(s,n){this.parent=s,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(s){s===this.subMenuItems.length?s=0:s<0&&(s=this.subMenuItems.length-1),this.subMenuItems[s].focus(),this.subIndex=s}addListeners(){const s=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",u=>{let t=!1;switch(u.code){case T.down:{this.gotoSubIndex(this.subIndex+1),t=!0;break}case T.up:{this.gotoSubIndex(this.subIndex-1),t=!0;break}case T.tab:{ee(s,"mouseleave");break}case T.enter:case T.numpadEnter:case T.space:{t=!0,u.currentTarget.click();break}}return t&&(u.preventDefault(),u.stopPropagation()),!1})})}},Et=class{constructor(s,n){this.domNode=s,this.submenu=null,this.submenu=null,this.init(n)}init(s){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${s}-menu`);n&&(this.submenu=new Ct(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",s=>{let n=!1;switch(s.code){case T.down:{ee(s.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case T.up:{ee(s.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case T.tab:{ee(s.currentTarget,"mouseleave");break}case T.enter:case T.numpadEnter:case T.space:{n=!0,s.currentTarget.click();break}}n&&s.preventDefault()})}},xt=class{constructor(s,n){this.domNode=s,this.init(n)}init(s){const n=this.domNode.childNodes;Array.from(n).forEach(u=>{u.nodeType===1&&new Et(u,s)})}};const St=y({name:"ElMenuCollapseTransition",setup(){const e=C("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,u){Q(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",u()},onAfterEnter(n){ce(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),qe(n,e.m("collapse"))?(ce(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Q(n,e.m("collapse"))):(Q(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ce(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Q(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function $t(e,s,n,u,t,f){return w(),he(Te,$e({mode:"out-in"},e.listeners),{default:ne(()=>[x(e.$slots,"default")]),_:3},16)}var Tt=A(St,[["render",$t],["__file","menu-collapse-transition.vue"]]);function Le(e,s){const n=p(()=>{let t=e.parent;const f=[s.value];for(;t.type.name!=="ElMenu";)t.props.index&&f.unshift(t.props.index),t=t.parent;return f});return{parentMenu:p(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function wt(e){return p(()=>{const n=e.backgroundColor;return n?new Ge(n).shade(20).toString():""})}const We=(e,s)=>{const n=C("menu");return p(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":wt(e).value||"","active-color":e.activeTextColor||"",level:`${s}`}))},kt=Me({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Z},expandOpenIcon:{type:Z},collapseCloseIcon:{type:Z},collapseOpenIcon:{type:Z}}),de="ElSubMenu";var Ee=y({name:de,props:kt,setup(e,{slots:s,expose:n}){const u=Ce(),{indexPath:t,parentMenu:f}=Le(u,p(()=>e.index)),c=C("menu"),g=C("sub-menu"),i=se("rootMenu");i||ae(de,"can not inject root menu");const m=se(`subMenu:${f.value.uid}`);m||ae(de,"can not inject sub menu");const v=$({}),_=$({});let E;const P=$(!1),le=$(),K=$(null),z=p(()=>L.value==="horizontal"&&H.value?"bottom-start":"right-start"),D=p(()=>L.value==="horizontal"&&H.value||L.value==="vertical"&&!i.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?O.value?e.expandOpenIcon:e.expandCloseIcon:Je:e.collapseCloseIcon&&e.collapseOpenIcon?O.value?e.collapseOpenIcon:e.collapseCloseIcon:Ue),H=p(()=>m.level===0),G=p(()=>{const l=e.teleported;return l===void 0?H.value:l}),ue=p(()=>i.props.collapse?`${c.namespace.value}-zoom-in-left`:`${c.namespace.value}-zoom-in-top`),ie=p(()=>L.value==="horizontal"&&H.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=p(()=>i.openedMenus.includes(e.index)),F=p(()=>{let l=!1;return Object.values(v.value).forEach(d=>{d.active&&(l=!0)}),Object.values(_.value).forEach(d=>{d.active&&(l=!0)}),l}),L=p(()=>i.props.mode),R=ye({index:e.index,indexPath:t,active:F}),J=We(i.props,m.level+1),X=p(()=>{var l;return(l=e.popperOffset)!=null?l:i.props.popperOffset}),j=p(()=>{var l;return(l=e.popperClass)!=null?l:i.props.popperClass}),Y=p(()=>{var l;return(l=e.showTimeout)!=null?l:i.props.showTimeout}),re=p(()=>{var l;return(l=e.hideTimeout)!=null?l:i.props.hideTimeout}),a=()=>{var l,d,I;return(I=(d=(l=K.value)==null?void 0:l.popperRef)==null?void 0:d.popperInstanceRef)==null?void 0:I.destroy()},o=l=>{l||a()},r=()=>{i.props.menuTrigger==="hover"&&i.props.mode==="horizontal"||i.props.collapse&&i.props.mode==="vertical"||e.disabled||i.handleSubMenuClick({index:e.index,indexPath:t.value,active:F.value})},h=(l,d=Y.value)=>{var I;if(l.type!=="focus"){if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"||e.disabled){m.mouseInChild.value=!0;return}m.mouseInChild.value=!0,E==null||E(),{stop:E}=xe(()=>{i.openMenu(e.index,t.value)},d),G.value&&((I=f.value.vnode.el)==null||I.dispatchEvent(new MouseEvent("mouseenter")))}},b=(l=!1)=>{var d;if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"){m.mouseInChild.value=!1;return}E==null||E(),m.mouseInChild.value=!1,{stop:E}=xe(()=>!P.value&&i.closeMenu(e.index,t.value),re.value),G.value&&l&&((d=m.handleMouseleave)==null||d.call(m,!0))};te(()=>i.props.collapse,l=>o(!!l));{const l=I=>{_.value[I.index]=I},d=I=>{delete _.value[I.index]};ve(`subMenu:${u.uid}`,{addSubMenu:l,removeSubMenu:d,handleMouseleave:b,mouseInChild:P,level:m.level+1})}return n({opened:O}),_e(()=>{i.addSubMenu(R),m.addSubMenu(R)}),we(()=>{m.removeSubMenu(R),i.removeSubMenu(R)}),()=>{var l;const d=[(l=s.title)==null?void 0:l.call(s),M(ke,{class:g.e("icon-arrow"),style:{transform:O.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&i.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>q(D.value)?M(u.appContext.components[D.value]):M(D.value)})],I=i.isMenuPopup?M(Oe,{ref:K,visible:O.value,effect:"light",pure:!0,offset:X.value,showArrow:!1,persistent:!0,popperClass:j.value,placement:z.value,teleported:G.value,fallbackPlacements:ie.value,transition:ue.value,gpuAcceleration:!1},{content:()=>{var S;return M("div",{class:[c.m(L.value),c.m("popup-container"),j.value],onMouseenter:W=>h(W,100),onMouseleave:()=>b(!0),onFocus:W=>h(W,100)},[M("ul",{class:[c.b(),c.m("popup"),c.m(`popup-${z.value}`)],style:J.value},[(S=s.default)==null?void 0:S.call(s)])])},default:()=>M("div",{class:g.e("title"),onClick:r},d)}):M(Ie,{},[M("div",{class:g.e("title"),ref:le,onClick:r},d),M(dt,{},{default:()=>{var S;return Pe(M("ul",{role:"menu",class:[c.b(),c.m("inline")],style:J.value},[(S=s.default)==null?void 0:S.call(s)]),[[Ze,O.value]])}})]);return M("li",{class:[g.b(),g.is("active",F.value),g.is("opened",O.value),g.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:h,onMouseleave:()=>b(),onFocus:h},[I])}}});const Ot=Me({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:oe(Array),default:()=>Ke([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Z,default:()=>Xe},popperEffect:{type:oe(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),pe=e=>Ne(e)&&e.every(s=>q(s)),Pt={close:(e,s)=>q(e)&&pe(s),open:(e,s)=>q(e)&&pe(s),select:(e,s,n,u)=>q(e)&&pe(s)&&tt(n)&&(u===void 0||u instanceof Promise)};var Nt=y({name:"ElMenu",props:Ot,emits:Pt,setup(e,{emit:s,slots:n,expose:u}){const t=Ce(),f=t.appContext.config.globalProperties.$router,c=$(),g=C("menu"),i=C("sub-menu"),m=$(-1),v=$(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),_=$(e.defaultActive),E=$({}),P=$({}),le=p(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),K=()=>{const a=_.value&&E.value[_.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(r=>{const h=P.value[r];h&&z(r,h.indexPath)})},z=(a,o)=>{v.value.includes(a)||(e.uniqueOpened&&(v.value=v.value.filter(r=>o.includes(r))),v.value.push(a),s("open",a,o))},D=a=>{const o=v.value.indexOf(a);o!==-1&&v.value.splice(o,1)},H=(a,o)=>{D(a),s("close",a,o)},G=({index:a,indexPath:o})=>{v.value.includes(a)?H(a,o):z(a,o)},ue=a=>{(e.mode==="horizontal"||e.collapse)&&(v.value=[]);const{index:o,indexPath:r}=a;if(!(Se(o)||Se(r)))if(e.router&&f){const h=a.route||o,b=f.push(h).then(l=>(l||(_.value=o),l));s("select",o,r,{index:o,indexPath:r,route:h},b)}else _.value=o,s("select",o,r,{index:o,indexPath:r})},ie=a=>{const o=E.value,r=o[a]||_.value&&o[_.value]||o[e.defaultActive];r?_.value=r.index:_.value=a},O=a=>{const o=getComputedStyle(a),r=Number.parseInt(o.marginLeft,10),h=Number.parseInt(o.marginRight,10);return a.offsetWidth+r+h||0},F=()=>{var a,o;if(!c.value)return-1;const r=Array.from((o=(a=c.value)==null?void 0:a.childNodes)!=null?o:[]).filter(U=>U.nodeName!=="#comment"&&(U.nodeName!=="#text"||U.nodeValue)),h=64,b=getComputedStyle(c.value),l=Number.parseInt(b.paddingLeft,10),d=Number.parseInt(b.paddingRight,10),I=c.value.clientWidth-l-d;let S=0,W=0;return r.forEach((U,Fe)=>{S+=O(U),S<=I-h&&(W=Fe+1)}),W===r.length?-1:W},L=a=>P.value[a].indexPath,R=(a,o=33.34)=>{let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{a()},o)}};let J=!0;const X=()=>{if(m.value===F())return;const a=()=>{m.value=-1,nt(()=>{m.value=F()})};J?a():R(a)(),J=!1};te(()=>e.defaultActive,a=>{E.value[a]||(_.value=""),ie(a)}),te(()=>e.collapse,a=>{a&&(v.value=[])}),te(E.value,K);let j;Ye(()=>{e.mode==="horizontal"&&e.ellipsis?j=Qe(c,X).stop:j==null||j()});const Y=$(!1);{const a=b=>{P.value[b.index]=b},o=b=>{delete P.value[b.index]};ve("rootMenu",ye({props:e,openedMenus:v,items:E,subMenus:P,activeIndex:_,isMenuPopup:le,addMenuItem:b=>{E.value[b.index]=b},removeMenuItem:b=>{delete E.value[b.index]},addSubMenu:a,removeSubMenu:o,openMenu:z,closeMenu:H,handleMenuItemClick:ue,handleSubMenuClick:G})),ve(`subMenu:${t.uid}`,{addSubMenu:a,removeSubMenu:o,mouseInChild:Y,level:0})}_e(()=>{e.mode==="horizontal"&&new xt(t.vnode.el,g.namespace.value)}),u({open:o=>{const{indexPath:r}=P.value[o];r.forEach(h=>z(h,r))},close:D,handleResize:X});const re=We(e,0);return()=>{var a,o;let r=(o=(a=n.default)==null?void 0:a.call(n))!=null?o:[];const h=[];if(e.mode==="horizontal"&&c.value){const d=et(r),I=m.value===-1?d:d.slice(0,m.value),S=m.value===-1?[]:d.slice(m.value);S!=null&&S.length&&e.ellipsis&&(r=I,h.push(M(Ee,{index:"sub-menu-more",class:i.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>M(ke,{class:i.e("icon-more")},{default:()=>M(e.ellipsisIcon)}),default:()=>S})))}const b=e.closeOnClickOutside?[[ut,()=>{v.value.length&&(Y.value||(v.value.forEach(d=>s("close",d,L(d))),v.value=[]))}]]:[],l=Pe(M("ul",{key:String(e.collapse),role:"menubar",ref:c,style:re.value,class:{[g.b()]:!0,[g.m(e.mode)]:!0,[g.m("collapse")]:e.collapse}},[...r,...h]),b);return e.collapseTransition&&e.mode==="vertical"?M(Tt,()=>l):l}}});const Bt=Me({index:{type:oe([String,null]),default:null},route:{type:oe([String,Object])},disabled:Boolean}),At={click:e=>q(e.index)&&Ne(e.indexPath)},me="ElMenuItem",zt=y({name:me,components:{ElTooltip:Oe},props:Bt,emits:At,setup(e,{emit:s}){const n=Ce(),u=se("rootMenu"),t=C("menu"),f=C("menu-item");u||ae(me,"can not inject root menu");const{parentMenu:c,indexPath:g}=Le(n,st(e,"index")),i=se(`subMenu:${c.value.uid}`);i||ae(me,"can not inject sub menu");const m=p(()=>e.index===u.activeIndex),v=ye({index:e.index,indexPath:g,active:m}),_=()=>{e.disabled||(u.handleMenuItemClick({index:e.index,indexPath:g.value,route:e.route}),s("click",v))};return _e(()=>{i.addSubMenu(v),u.addMenuItem(v)}),we(()=>{i.removeSubMenu(v),u.removeMenuItem(v)}),{parentMenu:c,rootMenu:u,active:m,nsMenu:t,nsMenuItem:f,handleClick:_}}});function Ht(e,s,n,u,t,f){const c=at("el-tooltip");return w(),N("li",{class:B([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(w(),he(c,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ne(()=>[x(e.$slots,"title")]),default:ne(()=>[fe("div",{class:B(e.nsMenu.be("tooltip","trigger"))},[x(e.$slots,"default")],2)]),_:3},8,["effect"])):(w(),N(Ie,{key:1},[x(e.$slots,"default"),x(e.$slots,"title")],64))],10,["onClick"])}var Ve=A(zt,[["render",Ht],["__file","menu-item.vue"]]);const Lt={title:String},Wt="ElMenuItemGroup",Vt=y({name:Wt,props:Lt,setup(){return{ns:C("menu-item-group")}}});function Dt(e,s,n,u,t,f){return w(),N("li",{class:B(e.ns.b())},[fe("div",{class:B(e.ns.e("title"))},[e.$slots.title?x(e.$slots,"title",{key:1}):(w(),N(Ie,{key:0},[ot(lt(e.title),1)],64))],2),fe("ul",null,[x(e.$slots,"default")])],2)}var De=A(Vt,[["render",Dt],["__file","menu-item-group.vue"]]);const Xt=be(Nt,{MenuItem:Ve,MenuItemGroup:De,SubMenu:Ee}),Yt=V(Ve);V(De);const Qt=V(Ee);export{qt as E,Xt as a,Yt as b,Qt as c,Jt as d,jt as e,Gt as f};
