import{d as B,f as q,m as F,j as x,c as V,s as u,z as t,x as r,a,v as E,J as L,K as M,q as $,I as j,L as O,M as W,o as f,F as b,bk as G,P as C,D as c,cN as v,bm as i,ar as n,cO as k,bl as J,bB as A,bp as _,cP as K,W as Y}from"./index-xf_L3rL2.js";/* empty css                    *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{u as Z,E as h}from"./el-autocomplete-D39q6uwg.js";import{i as H}from"./no-address-DZmpuICS.js";import{E as Q}from"./index-mD9Ss8qE.js";import"./index-BrIf_SDW.js";import"./debounce-B05V5LEe.js";const X={class:"page-address"},ee={class:"page-content"},se={key:1,class:"address flex"},ae={class:"phone-number"},te={class:"content"},le=B({__name:"Address",setup(re){O(),W();const g=Z(),D={firstName:[{required:!0,message:"This field is required"}],lastName:[{required:!0,message:"This field is required"}],country:[{required:!0,message:"This field is required"}],province:[{required:!0,message:"This field is required"}],city:[{required:!0,message:"This field is required"}],zip:[{required:!0,message:"This field is required"}],phoneCode:[{required:!0,message:"This field is required"}],phoneNumber:[{required:!0,message:"This field is required"}]},m=q(),l=F({firstName:"",lastName:"",address1:"",address2:"",country:"",province:"",city:"",zip:"",phoneCode:"",phoneNumber:""}),N=q(),I=()=>{N.value&&N.value.validate(async o=>{if(o){if(m.value==="create"){const e=await A("/customer/InsertAddress",l);e.status===200&&(_({type:"success",message:e.msg}),m.value=void 0)}else if(m.value==="edit"){const e=await A("/customer/EditAddress",l);e.status===200&&(_({type:"success",message:e.msg}),m.value=void 0)}}else console.log("error submit!")})},p=q(),U=async()=>{const o=[{id:1,firstName:"Pengg",lastName:"",phoneNumber:"214 455 555",address1:"ASDRP - Aspiring Scholars Directed Research Program",address2:"Fremont, California, United States",zip:"94539"},{id:2,firstName:"Velar",lastName:"Cassandra",phoneNumber:"7865028305",address1:"Florida, 13531 SW 96th St.",address2:"Miami, Florida, United States",zip:"33186"}];await j("/customer/GetAddressById"),p.value=o},P=o=>{g.getProvince(Number(o))},z=(o,e)=>{var s;const d=o?(s=g.countryData)==null?void 0:s.filter(y=>y.CountryId===Number(o)):g.countryData;e(d||[])},S=(o,e)=>{var s;const d=o?(s=g.provinceData)==null?void 0:s.filter(y=>y.ProvinceId===Number(o)):g.provinceData;e(d||[])};x(()=>{U()});const T=()=>{var o;(o=N.value)==null||o.resetFields(),m.value="create"},R=async o=>{var d;const e=await K(`/customer/DeleteAddress?addressId=${o}`);e.status===200&&(p.value=(d=p.value)==null?void 0:d.filter(s=>s.id!==o),_({type:"success",message:e.msg}))},w=o=>{var d;m.value="edit";const e=((d=p.value)==null?void 0:d.find(s=>s.id===o))||{};Object.assign(l,e)};return(o,e)=>{var d;return f(),V("article",X,[u("header",null,[e[11]||(e[11]=u("h1",null,"Address Book",-1)),t(a(C),{icon:a(G),size:"small",type:"warning",onClick:T},{default:r(()=>e[10]||(e[10]=[b("Add A New Address")])),_:1},8,["icon"])]),u("div",ee,[((d=p.value)==null?void 0:d.length)===0?(f(),E(a(Q),{key:0,image:a(H),description:"You have not added an address."},null,8,["image"])):(f(),V("div",se,[(f(!0),V(L,null,M(p.value,s=>(f(),V("div",{class:"item",key:s.id},[u("header",null,[u("h4",null,c(s.firstName)+" "+c(s.lastName),1),u("div",ae,c(s.phoneNumber),1)]),u("div",te,[u("p",null,c(s.address1),1),u("p",null,c(s.address2)+","+c(s.zip),1)]),u("footer",null,[t(a(C),{link:"",onClick:y=>R(s.id)},{default:r(()=>e[12]||(e[12]=[b("Delete")])),_:2},1032,["onClick"]),t(a(C),{link:"",onClick:y=>w(s.id)},{default:r(()=>e[13]||(e[13]=[b("Edit")])),_:2},1032,["onClick"])])]))),128))])),m.value?(f(),E(a(J),{key:2,"label-position":"top",ref_key:"formRef",ref:N,model:l,rules:D},{default:r(()=>[t(a(k),{gutter:10},{default:r(()=>[t(a(v),{span:12},{default:r(()=>[t(a(i),{label:"first Name",prop:"firstName",required:""},{default:r(()=>[t(a(n),{modelValue:l.firstName,"onUpdate:modelValue":e[0]||(e[0]=s=>l.firstName=s)},null,8,["modelValue"])]),_:1})]),_:1}),t(a(v),{span:12},{default:r(()=>[t(a(i),{label:"Last Name",prop:"lastName",required:""},{default:r(()=>[t(a(n),{modelValue:l.lastName,"onUpdate:modelValue":e[1]||(e[1]=s=>l.lastName=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(a(i),{label:"Adress Line1",prop:"address1",required:""},{default:r(()=>[t(a(n),{modelValue:l.address1,"onUpdate:modelValue":e[2]||(e[2]=s=>l.address1=s)},null,8,["modelValue"])]),_:1}),t(a(i),{label:"Adress Line2",prop:"address2",required:""},{default:r(()=>[t(a(n),{modelValue:l.address2,"onUpdate:modelValue":e[3]||(e[3]=s=>l.address2=s)},null,8,["modelValue"])]),_:1}),t(a(i),{label:"Destination Country / Region",prop:"country",required:""},{default:r(()=>[t(a(h),{modelValue:l.country,"onUpdate:modelValue":e[4]||(e[4]=s=>l.country=s),"fetch-suggestions":z,clearable:"",placeholder:"Select a country",onChange:P},null,8,["modelValue"])]),_:1}),t(a(i),{label:"State / Province",prop:"province",required:""},{default:r(()=>[t(a(h),{modelValue:l.province,"onUpdate:modelValue":e[5]||(e[5]=s=>l.province=s),"fetch-suggestions":S,clearable:"",placeholder:"Select a province"},null,8,["modelValue"])]),_:1}),t(a(k),{gutter:10},{default:r(()=>[t(a(v),{span:16},{default:r(()=>[t(a(i),{label:"City",prop:"city",required:""},{default:r(()=>[t(a(n),{modelValue:l.city,"onUpdate:modelValue":e[6]||(e[6]=s=>l.city=s)},null,8,["modelValue"])]),_:1})]),_:1}),t(a(v),{span:8},{default:r(()=>[t(a(i),{label:"Zip / Postal Code",prop:"zip",required:""},{default:r(()=>[t(a(n),{modelValue:l.zip,"onUpdate:modelValue":e[7]||(e[7]=s=>l.zip=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(a(i),{label:"Phone Number",prop:"phoneCode",required:""},{default:r(()=>[t(a(k),{gutter:10},{default:r(()=>[t(a(v),{span:8},{default:r(()=>[t(a(n),{modelValue:l.phoneCode,"onUpdate:modelValue":e[8]||(e[8]=s=>l.phoneCode=s)},null,8,["modelValue"])]),_:1}),t(a(v),{span:16},{default:r(()=>[t(a(n),{modelValue:l.phoneNumber,"onUpdate:modelValue":e[9]||(e[9]=s=>l.phoneNumber=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(a(i),null,{default:r(()=>[t(a(C),{type:"primary",onClick:I},{default:r(()=>e[14]||(e[14]=[b("Confirm")])),_:1})]),_:1})]),_:1},8,["model"])):$("",!0)])])}}}),be=Y(le,[["__scopeId","data-v-984fa105"]]);export{be as default};
