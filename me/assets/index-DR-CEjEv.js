import{ck as re,cx as q,bC as le,c7 as se,cy as Y,cz as J,a1 as ne,cA as oe,cB as ie,c0 as ue,cd as ce,g as D,k as $,d as O,s as Q,h as Z,br as fe,q as d,x as L,v as ve,b1 as N,bA as I,o as C,B as k,w as j,a5 as de,a as x,n as T,u as g,A as B,a6 as me,X as pe,aj as he,c as V,b as K,L as be,as as ye,ay as ge,i as P,b5 as G,j as U,a7 as Se,a4 as F,p as we,y as ze,be as _e,t as Ee,ct as Ae,r as Re,D as Le,z as Pe,$ as Ce,J as Te}from"./index-BreoM77B.js";var Oe=1,He=2;function Me(e,a,r,l){var o=r.length,f=o;if(e==null)return!f;for(e=Object(e);o--;){var u=r[o];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<f;){u=r[o];var m=u[0],v=e[m],p=u[1];if(u[2]){if(v===void 0&&!(m in e))return!1}else{var n=new re,s;if(!(s===void 0?q(p,v,Oe|He,l,n):s))return!1}}return!0}function ee(e){return e===e&&!le(e)}function Ne(e){for(var a=se(e),r=a.length;r--;){var l=a[r],o=e[l];a[r]=[l,o,ee(o)]}return a}function te(e,a){return function(r){return r==null?!1:r[e]===a&&(a!==void 0||e in Object(r))}}function ke(e){var a=Ne(e);return a.length==1&&a[0][2]?te(a[0][0],a[0][1]):function(r){return r===e||Me(r,e,a)}}var xe=1,Be=2;function De(e,a){return Y(e)&&ee(a)?te(J(e),a):function(r){var l=ne(r,e);return l===void 0&&l===a?oe(r,e):q(a,l,xe|Be)}}function $e(e){return function(a){return a==null?void 0:a[e]}}function We(e){return function(a){return ie(a,e)}}function Ie(e){return Y(e)?$e(J(e)):We(e)}function rt(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?ce(e)?De(e[0],e[1]):ke(e):Ie(e)}const R=4,Ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ge=({move:e,size:a,bar:r})=>({[r.size]:a,transform:`translate${r.axis}(${e}%)`}),W=Symbol("scrollbarContextKey"),Ue=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Fe="Thumb",Xe=O({__name:"thumb",props:Ue,setup(e){const a=e,r=Q(W),l=Z("scrollbar");r||fe(Fe,"can not inject scrollbar context");const o=d(),f=d(),u=d({}),m=d(!1);let v=!1,p=!1,n=he?document.onselectstart:null;const s=L(()=>Ke[a.vertical?"vertical":"horizontal"]),i=L(()=>Ge({size:a.size,move:a.move,bar:s.value})),h=L(()=>o.value[s.value.offset]**2/r.wrapElement[s.value.scrollSize]/a.ratio/f.value[s.value.offset]),b=c=>{var _;if(c.stopPropagation(),c.ctrlKey||[1,2].includes(c.button))return;(_=window.getSelection())==null||_.removeAllRanges(),w(c);const A=c.currentTarget;A&&(u.value[s.value.axis]=A[s.value.offset]-(c[s.value.client]-A.getBoundingClientRect()[s.value.direction]))},E=c=>{if(!f.value||!o.value||!r.wrapElement)return;const _=Math.abs(c.target.getBoundingClientRect()[s.value.direction]-c[s.value.client]),A=f.value[s.value.offset]/2,M=(_-A)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=M*r.wrapElement[s.value.scrollSize]/100},w=c=>{c.stopImmediatePropagation(),v=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),n=document.onselectstart,document.onselectstart=()=>!1},S=c=>{if(!o.value||!f.value||v===!1)return;const _=u.value[s.value.axis];if(!_)return;const A=(o.value.getBoundingClientRect()[s.value.direction]-c[s.value.client])*-1,M=f.value[s.value.offset]-_,ae=(A-M)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=ae*r.wrapElement[s.value.scrollSize]/100},y=()=>{v=!1,u.value[s.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),t(),p&&(m.value=!1)},H=()=>{p=!1,m.value=!!a.size},z=()=>{p=!0,m.value=v};ve(()=>{t(),document.removeEventListener("mouseup",y)});const t=()=>{document.onselectstart!==n&&(document.onselectstart=n)};return N(I(r,"scrollbarElement"),"mousemove",H),N(I(r,"scrollbarElement"),"mouseleave",z),(c,_)=>(C(),k(pe,{name:g(l).b("fade"),persisted:""},{default:j(()=>[de(x("div",{ref_key:"instance",ref:o,class:T([g(l).e("bar"),g(l).is(g(s).key)]),onMousedown:E},[x("div",{ref_key:"thumb",ref:f,class:T(g(l).e("thumb")),style:B(g(i)),onMousedown:b},null,38)],34),[[me,c.always||m.value]])]),_:1},8,["name"]))}});var X=$(Xe,[["__file","thumb.vue"]]);const qe=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ye=O({__name:"bar",props:qe,setup(e,{expose:a}){const r=e,l=Q(W),o=d(0),f=d(0),u=d(""),m=d(""),v=d(1),p=d(1);return a({handleScroll:i=>{if(i){const h=i.offsetHeight-R,b=i.offsetWidth-R;f.value=i.scrollTop*100/h*v.value,o.value=i.scrollLeft*100/b*p.value}},update:()=>{const i=l==null?void 0:l.wrapElement;if(!i)return;const h=i.offsetHeight-R,b=i.offsetWidth-R,E=h**2/i.scrollHeight,w=b**2/i.scrollWidth,S=Math.max(E,r.minSize),y=Math.max(w,r.minSize);v.value=E/(h-E)/(S/(h-S)),p.value=w/(b-w)/(y/(b-y)),m.value=S+R<h?`${S}px`:"",u.value=y+R<b?`${y}px`:""}}),(i,h)=>(C(),V(be,null,[K(X,{move:o.value,ratio:p.value,size:u.value,always:i.always},null,8,["move","ratio","size","always"]),K(X,{move:f.value,ratio:v.value,size:m.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Je=$(Ye,[["__file","bar.vue"]]);const Qe=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ye([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ge(["ariaLabel","ariaOrientation"])}),Ze={scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(P)},je="ElScrollbar",Ve=O({name:je}),et=O({...Ve,props:Qe,emits:Ze,setup(e,{expose:a,emit:r}){const l=e,o=Z("scrollbar");let f,u,m=0,v=0;const p=d(),n=d(),s=d(),i=d(),h=L(()=>{const t={};return l.height&&(t.height=G(l.height)),l.maxHeight&&(t.maxHeight=G(l.maxHeight)),[l.wrapStyle,t]}),b=L(()=>[l.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!l.native}]),E=L(()=>[o.e("view"),l.viewClass]),w=()=>{var t;n.value&&((t=i.value)==null||t.handleScroll(n.value),m=n.value.scrollTop,v=n.value.scrollLeft,r("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function S(t,c){Ce(t)?n.value.scrollTo(t):P(t)&&P(c)&&n.value.scrollTo(t,c)}const y=t=>{P(t)&&(n.value.scrollTop=t)},H=t=>{P(t)&&(n.value.scrollLeft=t)},z=()=>{var t;(t=i.value)==null||t.update()};return U(()=>l.noresize,t=>{t?(f==null||f(),u==null||u()):({stop:f}=Se(s,z),u=N("resize",z))},{immediate:!0}),U(()=>[l.maxHeight,l.height],()=>{l.native||F(()=>{var t;z(),n.value&&((t=i.value)==null||t.handleScroll(n.value))})}),we(W,ze({scrollbarElement:p,wrapElement:n})),_e(()=>{n.value&&(n.value.scrollTop=m,n.value.scrollLeft=v)}),Ee(()=>{l.native||F(()=>{z()})}),Ae(()=>z()),a({wrapRef:n,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:H,handleScroll:w}),(t,c)=>(C(),V("div",{ref_key:"scrollbarRef",ref:p,class:T(g(o).b())},[x("div",{ref_key:"wrapRef",ref:n,class:T(g(b)),style:B(g(h)),tabindex:t.tabindex,onScroll:w},[(C(),k(Le(t.tag),{id:t.id,ref_key:"resizeRef",ref:s,class:T(g(E)),style:B(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:j(()=>[Re(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Pe("v-if",!0):(C(),k(Je,{key:0,ref_key:"barRef",ref:i,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var tt=$(et,[["__file","scrollbar.vue"]]);const lt=Te(tt);export{lt as E,rt as b};
