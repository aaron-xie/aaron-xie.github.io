import{d as P,f as l,ax as B,w as v,c as i,s as e,z as n,x as d,a as s,J as C,K as I,L as k,M as E,I as S,o as p,F as x,D as m,W as q}from"./index-xf_L3rL2.js";/* empty css                   */import{E as w}from"./el-pagination-CeOpuTNh.js";/* empty css               */import"./el-select-DkBHrmJx.js";import"./el-breadcrumb-item-l0sNRNKZ.js";/* empty css                      *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as y,a as L}from"./index-CvMX5fCo.js";import"./index-BrIf_SDW.js";import"./strings-Bb14txJe.js";import"./debounce-B05V5LEe.js";import"./_baseIteratee-DeMWTR14.js";import"./index-CZsvrpDn.js";const D={class:"page-search"},R={class:"page-body"},T={class:"goodslist border mt-1"},V=["onClick"],F={class:"img"},M=["src","alt"],$={class:"price"},G={class:"flex flex-end mt-2"},H=P({__name:"Search",setup(J){const r=k(),b=E(),_=l(),g=l(0),f=l(Number(r.query.size)||16),c=l(Number(r.query.page)||1),z={sortBy:"default",pageSize:f.value,pageIndex:c.value},u=async(a={})=>{const{k:o}=r.query,{data:t,TotalRecords:h}=await S("product/GetSearchProducts",{...z,...a,searchTerms:o});_.value=t,g.value=h};B(()=>{u()}),v(r.query,(a,o)=>{a!==o&&u()}),v(c,a=>{u({pageIndex:a})});const N=a=>{c.value=a};return(a,o)=>(p(),i("main",D,[e("article",R,[e("header",null,[n(s(L),null,{default:d(()=>[n(s(y),{to:"/home"},{default:d(()=>o[0]||(o[0]=[x(" Home ")])),_:1}),n(s(y),null,{default:d(()=>o[1]||(o[1]=[x("search result")])),_:1})]),_:1})]),e("ul",T,[(p(!0),i(C,null,I(_.value,t=>(p(),i("li",{key:t.ProductId,onClick:h=>s(b).push(`/goods/${t.ProductId}`)},[e("div",F,[e("img",{src:t.PictureUrl,alt:t.LocalizedName},null,8,M)]),e("h5",null,m(t.LocalizedName),1),e("div",$,[e("span",null,m(t.Price),1),e("del",null,m(t.OldPrice),1)])],8,V))),128))]),e("div",G,[n(s(w),{"page-size":f.value,layout:"prev, pager, next",total:g.value,onCurrentChange:N},null,8,["page-size","total"])])])]))}}),ne=q(H,[["__scopeId","data-v-dcb43b5f"]]);export{ne as default};
