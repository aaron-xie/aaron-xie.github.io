import{cI as B,f as V,V as D,d as L,m as M,j as $,c as q,s as i,z as a,x as l,a as s,v as h,I as j,J as G,q as J,L as O,M as W,o as v,F as k,bm as Y,N as E,D as g,cL as y,bo as u,am as f,cM as _,bn as Z,bz as I,br as A,cN as H,U as K}from"./index-DFPMoMCa.js";/* empty css                    *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css               *//* empty css                      *//* empty css                 *//* empty css                    *//* empty css                        */import{E as U}from"./el-autocomplete-CtuZGcay.js";import{i as Q}from"./no-address-DZmpuICS.js";import{E as X}from"./index-DmdeDnxz.js";import"./index-CskkzNZO.js";import"./debounce-Dr_Sptyb.js";const ee=B("common",()=>{const b=V(),m=V();async function C(){console.log("getCountry");const r=await D("/customer/GetAllCountry");return r.status===200&&(b.value=r.data),r.data}async function n(r){const p=await D("/customer/GetStateProvinceByCountryid",{countryId:r});return p.status===200&&(m.value=p.data),p.data}return b.value||C(),{countryData:b,provinceData:m,getCountry:C,getProvince:n}}),te={class:"page-address"},se={class:"page-content"},ae={key:1,class:"address flex"},re={class:"phone-number"},le=L({__name:"Address",setup(b){O(),W();const m=ee(),C={firstName:[{required:!0,message:"This field is required"}],lastName:[{required:!0,message:"This field is required"}],country:[{required:!0,message:"This field is required"}],province:[{required:!0,message:"This field is required"}],city:[{required:!0,message:"This field is required"}],zip:[{required:!0,message:"This field is required"}],phoneCode:[{required:!0,message:"This field is required"}],phoneNumber:[{required:!0,message:"This field is required"}]},n=V(),r=M({firstName:"",lastName:"",address1:"",address2:"",country:"",province:"",city:"",zip:"",phoneCode:"",phoneNumber:""}),p=V(),S=()=>{p.value&&p.value.validate(async o=>{if(o){if(n.value==="create"){const e=await I("/customer/InsertAddress",r);e.status===200&&(A({type:"success",message:e.msg}),n.value=void 0)}else if(n.value==="edit"){const e=await I("/customer/EditAddress",r);e.status===200&&(A({type:"success",message:e.msg}),n.value=void 0)}}else console.log("error submit!")})},c=V(),z=async()=>{const o=[{id:1,firstName:"Pengg",lastName:"",phoneNumber:"214 455 555",address1:"ASDRP - Aspiring Scholars Directed Research Program",address2:"Fremont, California, United States",zip:"94539"},{id:2,firstName:"Velar",lastName:"Cassandra",phoneNumber:"7865028305",address1:"Florida, 13531 SW 96th St.",address2:"Miami, Florida, United States",zip:"33186"}];c.value=o},P=o=>{m.getProvince(Number(o))},T=(o,e)=>{var t;const d=o?(t=m.countryData)==null?void 0:t.filter(N=>N.CountryId===Number(o)):m.countryData;e(d||[])},w=(o,e)=>{var t;const d=o?(t=m.provinceData)==null?void 0:t.filter(N=>N.ProvinceId===Number(o)):m.provinceData;e(d||[])};$(()=>{z()});const R=()=>{var o;(o=p.value)==null||o.resetFields(),n.value="create"},F=async o=>{var d;const e=await H(`/customer/DeleteAddress?addressId=${o}`);e.status===200&&(c.value=(d=c.value)==null?void 0:d.filter(t=>t.id!==o),A({type:"success",message:e.msg}))},x=o=>{var d;n.value="edit";const e=((d=c.value)==null?void 0:d.find(t=>t.id===o))||{};Object.assign(r,e)};return(o,e)=>{var d;return v(),q("article",te,[i("header",null,[e[11]||(e[11]=i("h1",null,"Address Book",-1)),a(s(E),{icon:s(Y),size:"small",type:"warning",onClick:R},{default:l(()=>e[10]||(e[10]=[k("Add A New Address")])),_:1},8,["icon"])]),i("div",se,[((d=c.value)==null?void 0:d.length)===0?(v(),h(s(X),{key:0,image:s(Q),description:"You have not added an address."},null,8,["image"])):(v(),q("div",ae,[(v(!0),q(j,null,G(c.value,t=>(v(),q("div",{class:"item",key:t.id},[i("header",null,[i("h4",null,g(t.firstName)+" "+g(t.lastName),1),i("div",re,g(t.phoneNumber),1)]),i("p",null,g(t.address1),1),i("p",null,g(t.address2)+","+g(t.zip),1),i("footer",null,[a(s(E),{link:"",onClick:N=>F(t.id)},{default:l(()=>e[12]||(e[12]=[k("Delete")])),_:2},1032,["onClick"]),a(s(E),{link:"",onClick:N=>x(t.id)},{default:l(()=>e[13]||(e[13]=[k("Edit")])),_:2},1032,["onClick"])])]))),128))])),n.value?(v(),h(s(Z),{key:2,"label-position":"top",ref_key:"formRef",ref:p,model:r,rules:C},{default:l(()=>[a(s(_),{gutter:10},{default:l(()=>[a(s(y),{span:12},{default:l(()=>[a(s(u),{label:"first Name",prop:"firstName",required:""},{default:l(()=>[a(s(f),{modelValue:r.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>r.firstName=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(s(y),{span:12},{default:l(()=>[a(s(u),{label:"Last Name",prop:"lastName",required:""},{default:l(()=>[a(s(f),{modelValue:r.lastName,"onUpdate:modelValue":e[1]||(e[1]=t=>r.lastName=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(u),{label:"Adress Line1",prop:"address1",required:""},{default:l(()=>[a(s(f),{modelValue:r.address1,"onUpdate:modelValue":e[2]||(e[2]=t=>r.address1=t)},null,8,["modelValue"])]),_:1}),a(s(u),{label:"Adress Line2",prop:"address2",required:""},{default:l(()=>[a(s(f),{modelValue:r.address2,"onUpdate:modelValue":e[3]||(e[3]=t=>r.address2=t)},null,8,["modelValue"])]),_:1}),a(s(u),{label:"Destination Country / Region",prop:"country",required:""},{default:l(()=>[a(s(U),{modelValue:r.country,"onUpdate:modelValue":e[4]||(e[4]=t=>r.country=t),"fetch-suggestions":T,clearable:"",placeholder:"Select a country",onChange:P},null,8,["modelValue"])]),_:1}),a(s(u),{label:"State / Province",prop:"province",required:""},{default:l(()=>[a(s(U),{modelValue:r.province,"onUpdate:modelValue":e[5]||(e[5]=t=>r.province=t),"fetch-suggestions":w,clearable:"",placeholder:"Select a province"},null,8,["modelValue"])]),_:1}),a(s(_),{gutter:10},{default:l(()=>[a(s(y),{span:16},{default:l(()=>[a(s(u),{label:"City",prop:"city",required:""},{default:l(()=>[a(s(f),{modelValue:r.city,"onUpdate:modelValue":e[6]||(e[6]=t=>r.city=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(s(y),{span:8},{default:l(()=>[a(s(u),{label:"Zip / Postal Code",prop:"zip",required:""},{default:l(()=>[a(s(f),{modelValue:r.zip,"onUpdate:modelValue":e[7]||(e[7]=t=>r.zip=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(u),{label:"Phone Number",prop:"phoneCode",required:""},{default:l(()=>[a(s(_),{gutter:10},{default:l(()=>[a(s(y),{span:8},{default:l(()=>[a(s(f),{modelValue:r.phoneCode,"onUpdate:modelValue":e[8]||(e[8]=t=>r.phoneCode=t)},null,8,["modelValue"])]),_:1}),a(s(y),{span:16},{default:l(()=>[a(s(f),{modelValue:r.phoneNumber,"onUpdate:modelValue":e[9]||(e[9]=t=>r.phoneNumber=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s(u),null,{default:l(()=>[a(s(E),{type:"primary",onClick:S},{default:l(()=>e[14]||(e[14]=[k("Confirm")])),_:1})]),_:1})]),_:1},8,["model"])):J("",!0)])])}}}),be=K(le,[["__scopeId","data-v-0065bc15"]]);export{be as default};
